<?xml version="1.0"?>
<!--
/********************************************************************************
 *   
 *	Copyright (c) 2016 - 2017 MAX Hypermarket, Inc    All Rights Reserved.
 *	
 *
 *  
 *	Rev 1.1		Dec 13, 2016		Mansi Goel		Changes for Manager Override Issue
 *	Rev	1.0 	Oct 26, 2016		Nadia Arora		Changes for Login FES	
 *
 ********************************************************************************/
-->
<!DOCTYPE UICFG SYSTEM "classpath://oracle/retail/stores/pos/config/defaults/posui.dtd">
<UICFG>

    <BEAN
        specName="PasswordOptionsButtonSpec"
        configuratorPackage="oracle.retail.stores.pos.ui"
        configuratorClassName="POSBeanConfigurator"
        beanPackage="oracle.retail.stores.pos.ui.beans"
        beanClassName="NavigationButtonBean">

        <BUTTON
            actionName="ChangePassword"
            enabled="false"
            keyName="F2"
            iconName="buttonIconChangePassword"
            labelTag="ChangePassword"/>
    </BEAN>
    
    

    <BEAN
        specName="ChangePasswordSpec"
        configuratorPackage="oracle.retail.stores.pos.ui"
        configuratorClassName="POSBeanConfigurator"
        beanPackage="oracle.retail.stores.pos.ui.beans"
        beanClassName="ChangePasswordBean">
    </BEAN>

    <BEAN
        specName="LoginSpec"
        configuratorPackage="oracle.retail.stores.pos.ui"
        configuratorClassName="POSBeanConfigurator"
        beanPackage="max.retail.stores.pos.ui.beans"
        beanClassName="MAXLoginBean">
    </BEAN>
    
    <!-- Changes for Rev 1.1 : Starts -->
    <BEAN
        specName="LoginManagerOverrideSpec"
        configuratorPackage="oracle.retail.stores.pos.ui"
        configuratorClassName="POSBeanConfigurator"
        beanPackage="max.retail.stores.pos.ui.beans"
        beanClassName="MAXLoginBean">
    </BEAN>
	<!-- Changes for Rev 1.1 : Ends -->

    <OVERLAYSCREEN
        defaultScreenSpecName="ResponseEntryScreenSpec"
        resourceBundleFilename="operatoridText"
        specName="OPERATOR_IDENTIFICATION">

        <ASSIGNMENT areaName="GlobalNavigationPanel"
            beanSpecName="GlobalNavigationPanelSpec">
            <BEANPROPERTY
                propName="buttonStates" propValue="Help[true],Cancel[false],Undo[true],Clear[false],Next[false],Keys[true]"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="LocalNavigationPanel"
            beanSpecName="PasswordOptionsButtonSpec">
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="PromptAndResponsePanel"
            beanSpecName="PromptAndResponsePanelSpec">
            <BEANPROPERTY propName="responseField" propValue="oracle.retail.stores.pos.ui.beans.ConstrainedPasswordField"/>
            <BEANPROPERTY propName="promptTextTag" propValue="OperatorIdentificationPrompt"/>
            <BEANPROPERTY propName="maxLength" propValue="46"/>
            <BEANPROPERTY propName="doubleByteCharsAllowed" propValue="false"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="StatusPanel"
            beanSpecName="StatusPanelSpec">
            <BEANPROPERTY propName="screenNameTag" propValue="OperatorIdentificationScreenName"/>
        </ASSIGNMENT>

        <DEVICECONNECTION
            deviceSessionName="ScannerSession"
            targetBeanSpecName="PromptAndResponsePanelSpec"
            listenerPackage="java.beans"
            listenerInterfaceName="PropertyChangeListener"
            adapterPackage="oracle.retail.stores.foundation.manager.gui"
            adapterClassName="InputDataAdapter"
            adapterParameter="setScannerData"
            activateMode="MODE_SINGLESCAN"/>

        <DEVICECONNECTION
            deviceSessionName="MSRSession"
            targetBeanSpecName="PromptAndResponsePanelSpec"
            listenerPackage="java.beans"
            listenerInterfaceName="PropertyChangeListener"
            adapterPackage="oracle.retail.stores.foundation.manager.gui"
            adapterClassName="InputDataAdapter"
            adapterParameter="setMSRDataEmployee"
            activateMode="MODE_DECODESCAN"/>

    </OVERLAYSCREEN>

    <!-- This popup dialog is produced when prompting for manager override login. -->
    <OVERLAYSCREEN
        specName="OVERRIDE_LOGIN_DIALOG"
        resourceBundleFilename="operatoridText"
        defaultScreenSpecName="DefaultDialogSpec" >
        <ASSIGNMENT
            areaName="DialogPromptPanel"
            beanSpecName="DialogPromptPanelSpec">
        </ASSIGNMENT>
        <ASSIGNMENT
            areaName="DialogMainPanel"
            beanSpecName="LoginManagerOverrideSpec" />
        <ASSIGNMENT
            areaName="DialogButtonsPanel"
            beanSpecName="DialogTwoButtonsSpec"/>

        <DEVICECONNECTION
            deviceSessionName="ScannerSession"
            targetBeanSpecName="DialogPromptPanelSpec"
            listenerPackage="java.beans"
            listenerInterfaceName="PropertyChangeListener"
            adapterPackage="oracle.retail.stores.foundation.manager.gui"
            adapterClassName="InputDataAdapter"
            adapterParameter="setScannerData"
            activateMode="MODE_SINGLESCAN"/>

        <DEVICECONNECTION
            deviceSessionName="MSRSession"
            targetBeanSpecName="DialogPromptPanelSpec"
            listenerPackage="java.beans"
            listenerInterfaceName="PropertyChangeListener"
            adapterPackage="oracle.retail.stores.foundation.manager.gui"
            adapterClassName="InputDataAdapter"
            adapterParameter="setMSRDataEmployee"
            activateMode="MODE_DECODESCAN"/>

    </OVERLAYSCREEN>
    
    
    <!-- This popup dialog is produced when prompting for manager override login with FingerprintReader. -->
    <OVERLAYSCREEN
        specName="OVERRIDE_FINGERPRINT_LOGIN_DIALOG"
        resourceBundleFilename="operatoridText"
        defaultScreenSpecName="DefaultDialogSpec" >
        <ASSIGNMENT
            areaName="DialogPromptPanel"
            beanSpecName="DialogPromptPanelSpec">
        </ASSIGNMENT>
        <ASSIGNMENT
            areaName="DialogMainPanel"
            beanSpecName="LoginManagerOverrideSpec" />
        <ASSIGNMENT
            areaName="DialogButtonsPanel"
            beanSpecName="DialogOneCancelButtonSpec"/>

        <DEVICECONNECTION
            deviceSessionName="FingerprintReaderSession"
            targetBeanSpecName="DialogPromptPanelSpec"
            listenerPackage="java.beans"
            listenerInterfaceName="PropertyChangeListener"
            adapterPackage="oracle.retail.stores.foundation.manager.gui"
            adapterClassName="InputDataAdapter"
            adapterParameter="setFingerprintData"
            activateMode="MODE_VERIFY"/>
            
              <DEVICECONNECTION
            deviceSessionName="ScannerSession"
            targetBeanSpecName="PromptAndResponsePanelSpec"
            listenerPackage="java.beans"
            listenerInterfaceName="PropertyChangeListener"
            adapterPackage="oracle.retail.stores.foundation.manager.gui"
            adapterClassName="InputDataAdapter"
            adapterParameter="setScannerData"
            activateMode="MODE_SINGLESCAN"/>
            
            
    </OVERLAYSCREEN>

    <!-- This is the normal in-frame operator login screen. -->
    <OVERLAYSCREEN
        defaultScreenSpecName="EYSPOSDefaultSpec"
        resourceBundleFilename="operatoridText"
        specName="OPERATOR_LOGIN">

        <ASSIGNMENT areaName="GlobalNavigationPanel"
            beanSpecName="GlobalNavigationPanelSpec">
            <BEANPROPERTY
                propName="buttonStates" propValue="Help[true],Cancel[false],Undo[true],Clear[false],Next[true],Keys[true]"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="LocalNavigationPanel"
            beanSpecName="PasswordOptionsButtonSpec">
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="WorkPanel"
            beanSpecName="LoginSpec">
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="StatusPanel"
            beanSpecName="StatusPanelSpec">
            <BEANPROPERTY propName="screenNameTag" propValue="OperatorLoginScreenName"/>
        </ASSIGNMENT>
        
         <ASSIGNMENT
            areaName="PromptAndResponsePanel"
            beanSpecName="MAXPromptAndResponsePanelSpec">
            <BEANPROPERTY propName="promptTextTag" propValue="OperatorLoginPrompt"/>
        </ASSIGNMENT>
		<!-- Code merging changes start -->

       <DEVICECONNECTION
            deviceSessionName="ScannerSession"
            targetBeanSpecName="MAXPromptAndResponsePanelSpec"
            listenerPackage="java.beans"
            listenerInterfaceName="PropertyChangeListener"
            adapterPackage="oracle.retail.stores.foundation.manager.gui"
            adapterClassName="InputDataAdapter"
            adapterParameter="setScannerData"
            activateMode="MODE_SINGLESCAN"/>

        <DEVICECONNECTION
            deviceSessionName="MSRSession"
            targetBeanSpecName="MAXPromptAndResponsePanelSpec"
            listenerPackage="java.beans"
            listenerInterfaceName="PropertyChangeListener"
            adapterPackage="oracle.retail.stores.foundation.manager.gui"
            adapterClassName="InputDataAdapter"
            adapterParameter="setMSRDataEmployee"
            activateMode="MODE_DECODESCAN"/>

        <DEVICECONNECTION
            deviceSessionName="FingerprintReaderSession"
            targetBeanSpecName="MAXPromptAndResponsePanelSpec"
            listenerPackage="java.beans"
            listenerInterfaceName="PropertyChangeListener"
            adapterPackage="oracle.retail.stores.foundation.manager.gui"
            adapterClassName="InputDataAdapter"
            adapterParameter="setFingerprintData"
            activateMode="MODE_VERIFY"/>
	<!-- 	Code merging changes End -->

    </OVERLAYSCREEN>

    <OVERLAYSCREEN
        defaultScreenSpecName="ResponseEntryScreenSpec"
        resourceBundleFilename="operatoridText"
        specName="OPERATOR_PASSWORD">

        <ASSIGNMENT areaName="GlobalNavigationPanel"
            beanSpecName="GlobalNavigationPanelSpec">
            <BEANPROPERTY
                propName="buttonStates" propValue="Help[true],Cancel[false],Undo[true],Clear[false],Next[false],Keys[true]"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="PromptAndResponsePanel"
            beanSpecName="PromptAndResponsePanelSpec">
            <BEANPROPERTY propName="responseField" propValue="oracle.retail.stores.pos.ui.beans.ConstrainedPasswordField"/>
            <BEANPROPERTY propName="promptTextTag" propValue="EnterPasswordPrompt"/>
            <BEANPROPERTY propName="maxLength" propValue="22"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="StatusPanel"
            beanSpecName="StatusPanelSpec">
            <BEANPROPERTY propName="screenNameTag" propValue="EnterPasswordScreenName"/>
        </ASSIGNMENT>

    </OVERLAYSCREEN>

    <OVERLAYSCREEN
        defaultScreenSpecName="EYSPOSDefaultSpec"
        resourceBundleFilename="operatoridText"
        specName="CHANGE_PASSWORD">

        <ASSIGNMENT
            areaName="WorkPanel"
            beanSpecName="ChangePasswordSpec">
            <BEANPROPERTY
                propName="RequiredValidatingFields" propValue="passwordField,newPasswordField,verifyPasswordField"/>
        </ASSIGNMENT>

        <ASSIGNMENT areaName="GlobalNavigationPanel"
            beanSpecName="GlobalNavigationPanelSpec">
            <BEANPROPERTY
                propName="buttonStates" propValue="Help[true],Cancel[false],Undo[true],Clear[false],Next[false],Keys[true]"/>
        </ASSIGNMENT>


        <ASSIGNMENT
            areaName="PromptAndResponsePanel"
            beanSpecName="PromptAndResponsePanelSpec">
            <BEANPROPERTY propName="promptTextTag" propValue="ChangePasswordPrompt"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="StatusPanel"
            beanSpecName="StatusPanelSpec">
            <BEANPROPERTY propName="screenNameTag" propValue="ChangePasswordScreenName"/>
        </ASSIGNMENT>

        <CONNECTION
            listenerInterfaceName="ClearActionListener"
            listenerPackage="oracle.retail.stores.pos.ui.behavior"
            sourceBeanSpecName="GlobalNavigationPanelSpec"
            targetBeanSpecName="ChangePasswordSpec"/>

        <CONNECTION
            listenerInterfaceName="ValidateActionListener"
            listenerPackage="oracle.retail.stores.pos.ui.behavior"
            sourceBeanSpecName="GlobalNavigationPanelSpec"
            targetBeanSpecName="ChangePasswordSpec"/>

        <CONNECTION
            sourceBeanSpecName="ChangePasswordSpec"
            targetBeanSpecName="GlobalNavigationPanelSpec"
            listenerPackage="javax.swing.event"
            listenerInterfaceName="DocumentListener"/>

    </OVERLAYSCREEN>

    <OVERLAYSCREEN
        defaultScreenSpecName="ResponseEntryScreenSpec"
        resourceBundleFilename="operatoridText"
        specName="SALES_ASSOCIATE_IDENTIFICATION">

        <ASSIGNMENT
            areaName="GlobalNavigationPanel"
            beanSpecName="GlobalNavigationPanelSpec">
            <BEANPROPERTY
              propName="manageNextButton" propValue="false"/>
            <BEANPROPERTY
                propName="buttonStates" propValue="Help[true],Cancel[false],Undo[true],Next[true],Keys[true]"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="StatusPanel"
            beanSpecName="StatusPanelSpec">
            <BEANPROPERTY
                propName="screenNameTag" propValue="SalesAssociateLoginScreenName"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="PromptAndResponsePanel"
            beanSpecName="PromptAndResponsePanelSpec">
            <BEANPROPERTY
                propName="promptTextTag" propValue="SalesAssociateLoginPrompt"/>
            <BEANPROPERTY
                propName="responseField" propValue="oracle.retail.stores.pos.ui.beans.AlphaNumericTextField"/>
            <BEANPROPERTY propName="maxLength" propValue="10"/>
            <BEANPROPERTY propName="doubleByteCharsAllowed" propValue="false"/>
        </ASSIGNMENT>

    </OVERLAYSCREEN>

    <OVERLAYSCREEN
        defaultScreenSpecName="ResponseEntryScreenSpec"
        resourceBundleFilename="operatoridText"
        specName="NEW_PASSWORD">

        <ASSIGNMENT areaName="GlobalNavigationPanel"
            beanSpecName="GlobalNavigationPanelSpec">
            <BEANPROPERTY
                propName="buttonStates" propValue="Help[true],Cancel[false],Undo[true],Clear[false],Next[false],Keys[true]"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="PromptAndResponsePanel"
            beanSpecName="PromptAndResponsePanelSpec">
            <BEANPROPERTY propName="responseField" propValue="oracle.retail.stores.pos.ui.beans.ConstrainedPasswordField"/>
            <BEANPROPERTY propName="promptTextTag" propValue="EnterNewPasswordPrompt"/>
            <BEANPROPERTY propName="maxLength" propValue="22"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="StatusPanel"
            beanSpecName="StatusPanelSpec">
            <BEANPROPERTY propName="screenNameTag" propValue="EnterNewPasswordScreenName"/>
        </ASSIGNMENT>

    </OVERLAYSCREEN>

    <OVERLAYSCREEN
        defaultScreenSpecName="ResponseEntryScreenSpec"
        resourceBundleFilename="operatoridText"
        specName="REENTER_NEW_PASSWORD">

        <ASSIGNMENT areaName="GlobalNavigationPanel"
            beanSpecName="GlobalNavigationPanelSpec">
            <BEANPROPERTY
                propName="buttonStates" propValue="Help[true],Cancel[false],Undo[true],Clear[false],Next[false],Keys[true]"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="PromptAndResponsePanel"
            beanSpecName="PromptAndResponsePanelSpec">
            <BEANPROPERTY propName="responseField" propValue="oracle.retail.stores.pos.ui.beans.ConstrainedPasswordField"/>
            <BEANPROPERTY propName="promptTextTag" propValue="ReenterNewPasswordPrompt"/>
            <BEANPROPERTY propName="maxLength" propValue="22"/>
        </ASSIGNMENT>

        <ASSIGNMENT
            areaName="StatusPanel"
            beanSpecName="StatusPanelSpec">
            <BEANPROPERTY propName="screenNameTag" propValue="ReenterNewPasswordScreenName"/>
        </ASSIGNMENT>

    </OVERLAYSCREEN>
</UICFG>
