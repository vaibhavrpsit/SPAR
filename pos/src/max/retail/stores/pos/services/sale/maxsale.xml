<?xml version='1.0' ?>

<!--
/********************************************************************************
 *   
 *	Copyright (c) 2016 - 2017 MAX Hypermarket, Inc    All Rights Reserved.
 *	
 *  Rev 1.4		May 04, 2017		Kritica Agarwal     GST Changes
 *  Rev 1.3     Mar 07,2017         Nitika Arora        Changes for Issue- Once we scan the plu items, qty should not be editable.
 *  Rev 1.2     Feb 16,2016         Nitika Arora        Changes for handling Cancel Menu letter.
 *	Rev 1.1		Dec 12, 2016		Mansi Goel			Changes for Scan & Void FES
 *	Rev	1.0 	Nov 08, 2016		Nadia Arora         MAX-StoreCredi_Return requirement.	
 *
 ********************************************************************************/
-->

<!DOCTYPE SERVICE SYSTEM "classpath://oracle/retail/stores/foundation/tour/dtd/tourguide.dtd">

<SERVICE 
    name="Sale"
    package="oracle.retail.stores.pos.services.sale"
    tourcam="ON">
    <COMMENT >
        Point-Of-Sale is the implementation of the Sale 
        Package Requirements.
    </COMMENT>
    <CARGO  class="MAXSaleCargo" package="max.retail.stores.pos.services.sale"/>
    <SERVICECODE >
        <LANEACTION  class="CancelLetterAisle" package="oracle.retail.stores.pos.services.common"/>
        <LANEACTION  class="CheckIfSizeRequiredAisle" package="oracle.retail.stores.pos.services.common"/>
        <LANEACTION  class="CancelSelectedAisle"/>
		<LANEACTION class="MAXDeleteItemRoad" package="max.retail.stores.pos.services.sale" />
        <LANEACTION  class="ItemAddedRoad"/>
        <LANEACTION  class="ItemInfoEnteredAisle" package="oracle.retail.stores.pos.services.common"/>
        <LANEACTION  class="ValidateItemSizeAisle" package="oracle.retail.stores.pos.services.common"/>
        <LANEACTION  class="MAXItemNumberEnteredAisle" package="max.retail.stores.pos.services.sale"/>
		<LANEACTION  class="ModifyItemSelectedRoad"/>
        <LANEACTION  class="UndoTenderRoad"/>
        <LANEACTION  class="RemoveItemRoad"/>
        <LANEACTION  class="MAXUnsetScanNVoidFlowRoad" package="max.retail.stores.pos.services.sale"/>
        <LANEACTION  class="MAXSetScanNVoidFlowRoad" package="max.retail.stores.pos.services.sale"/>
        <LANEACTION  class="DisplayItemErrorAisle"/>
        <LANEACTION  class="DisplayItemSizeDialogAisle" package="oracle.retail.stores.pos.services.common"/>
        <LETTER  name="HouseAccount"/>
        <LETTER  name="Add"/>
        <LETTER  name="Cancel"/>
        <LETTER  name="CheckSizeRequired"/>
        <LETTER  name="Clear"/>
        <LETTER  name="CollectDemographics"/>
        <LETTER  name="Continue"/>
        <LETTER  name="Continue2"/>
        <LETTER  name="Customer"/>
        <LETTER  name="Done"/>
        <LETTER  name="Delete"/>
        <LETTER  name="UpdateShippingCharge"/>
        <LETTER  name="ChangeShippingMethod"/>
        <LETTER  name="ItemsFound"/>
        <LETTER  name="Exit"/>
        <LETTER  name="ExitLayaway"/>
        <LETTER  name="ExitPayment"/>
        <LETTER  name="ExitPrinting"/>
        <LETTER  name="ExitSpecialOrder"/>
        <LETTER  name="ExitTender"/>
        <LETTER  name="Failure"/>
        <LETTER  name="Invalid"/>
        <LETTER  name="Item"/>
        <LETTER  name="ItemError"/>
        <LETTER  name="Layaway"/>
        <LETTER  name="Logoff"/>
        <LETTER  name="Lookup"/>
        <LETTER  name="Loop"/>
        <LETTER  name="Manager"/>
        <LETTER  name="Next"/>
        <LETTER  name="No"/>
        <LETTER  name="NoSale"/>
        <LETTER  name="Offline"/>
        <LETTER  name="Ok"/>
        <LETTER  name="Override"/>
        <LETTER  name="Pay"/>
        <LETTER  name="Pos"/>
        <LETTER  name="Pricing"/>
        <LETTER  name="QueueFull"/>
        <LETTER  name="ReprintReceipt"/>
        <LETTER  name="Return"/>
        <LETTER  name="Retry"/>    
        <LETTER  name="ReturnItem"/>
        <LETTER  name="Search"/>
        <LETTER  name="ShippingAddress"/>
        <LETTER  name="Skip"/>
        <LETTER  name="Size"/>        
        <LETTER  name="SpecialOrder"/>
        <LETTER  name="Success"/>
        <LETTER  name="SuspendedTransaction"/>        
        <LETTER  name="Tender"/>
        <LETTER  name="TillFunctionsContinue"/>
        <LETTER  name="Timeout"/>
        <LETTER  name="PosOfflineSuccess"/>
        <LETTER  name="PosOfflineFail"/>
        <LETTER name="Invalid"/>
        <LETTER name="CancelTransactionSuccess"/>
        <LETTER name="BusinessDateSuccess"/>
	    <LETTER  name="blockgiftoption"/>
        <LETTER name="blockspecialorder"/>
        <LETTER name="blocktransaction"/>
    	<LETTER name="UndoGift"/>
       	<LETTER name="blockitem"/>
       	<LETTER name="NoLink"/>
		<LETTER  name="TimeoutComplete">
            <COMMENT >
                Afer SaveCancelTransaction has completed for a 
                transaction timeout, this letter is mailed to exit 
                the service
            </COMMENT>
        </LETTER>
        <LETTER  name="TrainingOn"/>
        <LETTER  name="Transaction"/>
        <LETTER  name="Undo"/>
        <LETTER  name="VoidedTransaction"/>
        <LETTER  name="Valid"/>
        <LETTER  name="Yes"/>
        <LETTER  name="OneItemFound"/>
        <LETTER  name="GiftCard"/>
        <LETTER  name="GiftCardCert"/>       
        <LETTER  name="ActivationCancelled"/>
        <LETTER  name="Redeem"/>     
        <LETTER  name="GetSerialNumbers"/>
        <LETTER  name="NotValid"/>
        <LETTER  name="Quantity"/>
        <LETTER  name="EmpRemoved" />
        <LETTER  name="ItemVoid" />
        <LETTER  name="ReduceQty" />
		<LETTER  name="TenderSaleT" />
        <LETTER  name="TenderSale"/>
        <LETTER name="TenderHome"/>
        <LETTER name="Tender2">
        
        <LETTER name="EmployeeID"/>
        
       <COMMENT >
                Timeout for user inactivity
        </COMMENT>
       </LETTER>       
        <LETTER name="Process"/>
		<LETTER  name="AdvanceSearch"/>
        <SHUTTLE class="MAXAdvSearchReturnShuttle" package="max.retail.stores.pos.services.sale.advsearch"/>
        <SHUTTLE class="MAXAdvSearchLaunchShuttle" package="max.retail.stores.pos.services.sale.advsearch"/>
      	<SHUTTLE  class="CustomerLaunchShuttle"/>
        <SHUTTLE  class="CustomerReturnShuttle"/>
        <SHUTTLE  class="FinancialCargoShuttle" package="oracle.retail.stores.pos.services.common"/>
        <SHUTTLE  class="InstantCreditCargoShuttle"/>
        <SHUTTLE  class="InstantCreditLaunchShuttle"/>
        <SHUTTLE  class="InstantCreditReturnShuttle"/>
        <SHUTTLE  class="MAXItemLookupLaunchShuttle" package="max.retail.stores.pos.services.sale"/>
        <SHUTTLE  class="ItemLookupReturnShuttle"/>
        <SHUTTLE  class="LayawayPaymentLaunchShuttle"/>
        <SHUTTLE  class="LayawayPaymentReturnShuttle"/>
        <SHUTTLE  class="MAXModifyItemLaunchShuttle" package="max.retail.stores.pos.services.sale"/>
        <SHUTTLE  class="MAXModifyItemReturnShuttle" package="max.retail.stores.pos.services.sale"/>
        <SHUTTLE  class="MAXModifyTransactionLaunchShuttle" package="max.retail.stores.pos.services.sale"/>
        <SHUTTLE  class="MAXModifyTransactionReturnShuttle" package="max.retail.stores.pos.services.sale"/>
        <SHUTTLE  class="OperatorIdReturnShuttle" package="oracle.retail.stores.pos.services.common"/>
        <SHUTTLE  class="PricingLaunchShuttle"/>
        <SHUTTLE  class="PricingReturnShuttle"/>
        <SHUTTLE  class="PrintingLaunchShuttle" package="oracle.retail.stores.pos.services.printing"/>
        <SHUTTLE  class="ReprintReceiptLaunchShuttle"/>
        <SHUTTLE  class="ReturnLaunchShuttle"/>
        <SHUTTLE  class="MAXReturnReturnShuttle" package="max.retail.stores.pos.services.sale"/>
        <SHUTTLE  class="SaleLaunchShuttle"/>
        <SHUTTLE  class="SaleReturnShuttle"/>
        <SHUTTLE  class="GiftOptionsLaunchShuttle"/>
        <SHUTTLE  class="GiftOptionsReturnShuttle"/>        
        <SHUTTLE  class="SecurityOverrideLaunchShuttle" package="oracle.retail.stores.pos.services.admin.security.common"/>
        <SHUTTLE  class="SpecialOrderDepositLaunchShuttle"/>
        <SHUTTLE  class="SpecialOrderDepositReturnShuttle"/>
        <SHUTTLE  class="SpecialOrderLaunchShuttle"/>
        <SHUTTLE  class="SpecialOrderReturnShuttle"/>
        <SHUTTLE  class="TillFunctionLaunchShuttle"/>
        <SHUTTLE  class="RedeemLaunchShuttle"/>
        <SHUTTLE  class="RedeemReturnShuttle"/>
        <SHUTTLE  class="ModifyItemSerialNumberLaunchShuttle" package="oracle.retail.stores.pos.services.sale"/>
        <SHUTTLE  class="SetupRegisterShuttle"/>
        <SHUTTLE  class="SetupRegisterReturnShuttle"/>
        <SHUTTLE  class="DisplaySendMethodLaunchShuttle"/>
        <SHUTTLE  class="RelatedItemLaunchShuttle"/>
		<SHUTTLE class="MAXModifyInvoiceTypeTransactionDiscountPercentLaunchShuttle"
			package="max.retail.stores.pos.services.pricing" />
		<SHUTTLE class="MAXModifyInvoiceTypeTransactionDiscountPercentReturnShuttle"
			package="max.retail.stores.pos.services.pricing" />
		<SHUTTLE  class="MAXPricingLaunchShuttle" package="max.retail.stores.pos.services.sale"/>
        <SHUTTLE  class="MAXPricingReturnShuttle" package="max.retail.stores.pos.services.sale"/>
        <SHUTTLE class="MAXItemLookupLaunchShuttleForBestDeal" package="max.retail.stores.pos.services.sale"/>
		<SHUTTLE class="MAXItemLookupReturnShuttleForBestDeal" package="max.retail.stores.pos.services.sale"/>
		<SIGNAL  class="ActivationIsNotRequiredSignal"/>
        <SIGNAL  class="IsLayawayTransactionSignal"/>
        <SIGNAL  class="IsNotLayawayTransactionSignal"/>
        <SIGNAL  class="IsCustomerInfoSignal" package="oracle.retail.stores.pos.services.sale"/>
        <SIGNAL  class="IsNotCustomerInfoSignal" package="oracle.retail.stores.pos.services.sale"/>
		<SIGNAL class="MAXIsExistingTICCustomerSignal" package="max.retail.stores.pos.services.sale" />
		<SHUTTLE class="MAXCustomerReturnShuttle" package="max.retail.stores.pos.services.sale" />
		<SHUTTLE class="MAXCustomerLaunchShuttle" package="max.retail.stores.pos.services.sale" />
	    <SITEACTION  class="StartSaleSite"/>
        <SITEACTION  class="AddItemSite"/>
	    <SITEACTION  class="MAXAddItemSite" package="max.retail.stores.pos.services.sale"/>
		<SITEACTION  class="CheckForTrainingModeSite" />
		<SITEACTION  class="MAXBusinessDateMismatchSite" package="max.retail.stores.pos.services.sale"/>
        <SITEACTION  class="MAXOverrideSuccessSite" package="max.retail.stores.pos.services.sale"/>     
        <SITEACTION  class="MAXPosOfflineStatusCheckSite" package="max.retail.stores.pos.services.sale"/>
        <SITEACTION  class="PrintCancelTransactionSite" package="oracle.retail.stores.pos.services.common"/>
        <SITEACTION  class="SaveCanceledTransactionSite" package="oracle.retail.stores.pos.services.common"/>
        <SITEACTION  class="CheckAccessSite" package="oracle.retail.stores.pos.services.admin.security.common"/>
        <SITEACTION  class="CheckRelatedItemDeletableSite"/>
        <SITEACTION  class="MAXCheckRelatedItemDeletableSite" package="max.retail.stores.pos.services.sale"/>
        <!-- <SITEACTION  class="EnterItemInfoSite" package="oracle.retail.stores.pos.services.common"/> -->
        <SITEACTION  class="MAXEnterItemInfoSite" package="max.retail.stores.pos.services.common"/>
        <SITEACTION  class="EnterItemSizeSite" package="oracle.retail.stores.pos.services.common"/>
        <!-- MAX Rev 1.0 Change: Start -->
        <SITEACTION  class="MAXShowSaleScreenSite" package="max.retail.stores.pos.services.sale"/>
        <!-- MAX Rev 1.0 Change: End -->
        <SITEACTION  class="WriteTransactionSite"/>
        <SITEACTION class="CheckForShippingSite"/>
        <!-- Changes for Rev 1.1 : Starts -->
        <SITEACTION  class="MAXCheckForSendSite" package="max.retail.stores.pos.services.sale"/>
        <!-- Changes for Rev 1.1 : Ends -->
        <SITEACTION  class="MAXUpdateShippingChargeSite" package="max.retail.stores.pos.services.sale"/>
        <SITEACTION  class="CheckTransactionLevelSendAssignedSite"/>
		<SITEACTION  class="MAXScanVoidItemScreenSite" package="max.retail.stores.pos.services.sale"/>
        <SITEACTION  class="MAXValidateItemNumberSite" package="max.retail.stores.pos.services.sale"/>
        <SITEACTION  class="MAXItemListScreenSite" package="max.retail.stores.pos.services.sale"/>
        <LANEACTION  class="MAXScanVoidSelectedAisle" package="max.retail.stores.pos.services.sale"/>
        <SITEACTION  class="MAXCheckRelatedItemSearchSite" package="max.retail.stores.pos.services.sale"/>
        <SITEACTION  class="MAXCheckWeightedRelatedItemSearchSite" package="max.retail.stores.pos.services.sale"/>
        <!-- Change for Rev 1.4 : Starts -->
        <SITEACTION  class="MAXDeliveyMarkedSite" package="max.retail.stores.pos.services.sale"/>
        <!-- Change for Rev 1.4 : Ends -->
        
         <SITEACTION  class="MAXEmployeeIDSite" package="max.retail.stores.pos.services.sale"/>
         <LANEACTION class="MAXSpeclEmpDiscNumberCapturedAisle" 
			package="max.retail.stores.pos.services.sale" />
        
		<SIGNAL  class="IsScanAndVoidSignal" package="max.retail.stores.pos.services.sale"/>
		<SIGNAL  class="IsNotScanAndVoidSignal" package="max.retail.stores.pos.services.sale"/>
		<LANEACTION class="MAXCheckForSuitableTransactionTypeAisle" package="max.retail.stores.pos.services.sale"/>	
		<LANEACTION class="MAXCheckForLinkedCustomerAisle" package="max.retail.stores.pos.services.sale"/>
		<LETTER name="Next1"/>
		<LETTER name="SingleBarCode"/>
		<LANEACTION class="MAXCheckForSingleBarCodeAisle" package="max.retail.stores.pos.services.sale.singlebarcode"/>
		<SITEACTION class="MAXReadSingleBarCodeSite" package="max.retail.stores.pos.services.sale.singlebarcode"/>
		<SITEACTION class="MAXProcessSingleBarCodeSite" package="max.retail.stores.pos.services.sale.singlebarcode"/>
		<LANEACTION class="MAXCheckMposTransactionAisle" package="max.retail.stores.pos.services.sale.singlebarcode"/>
	    <SHUTTLE  class="MAXSaleLaunchShuttle" package="max.retail.stores.pos.services.sale"/>
        <SHUTTLE  class="MAXSaleReturnShuttle" package="max.retail.stores.pos.services.sale"/>
		<SITEACTION class="MAXAddTICCustomerSite" package="max.retail.stores.pos.services.customer.tic" />
		<LANEACTION class="MAXTICCustomerEnteredAisle" package="max.retail.stores.pos.services.sale" />
		<LANEACTION class="MAXCheckAmtEligibleAisle" package="max.retail.stores.pos.services.sale" />
		<LANEACTION class="MAXLinkTICCustomerAisle" package="max.retail.stores.pos.services.sale" />
		<LANEACTION class="MAXExitTICCustomerScreenAisle"	package="max.retail.stores.pos.services.sale" />
		<SITEACTION class="MAXProcessTICRequestSite" package="max.retail.stores.pos.services.sale" />
		<LANEACTION class="MAXSearchCustomerByPhoneAisle" package="max.retail.stores.pos.services.sale" />
		<LANEACTION class="MAXTICRequestMobileNumberAisle" package="max.retail.stores.pos.services.sale" />
		<LANEACTION class="AddShippingItemToDeleteRoad"/>
		<LANEACTION  class="MAXModifyItemSelectedRoad" package="max.retail.stores.pos.services.sale" />
		<!-- Scan Sheet -->
		<SHUTTLE class="ScanSheetLaunchShuttle" package="oracle.retail.stores.pos.services.sale.scansheet"/>
        <SHUTTLE class="MAXScanSheetReturnShuttle" package="max.retail.stores.pos.services.sale.scansheet"/>
		<SHUTTLE class="MAXReturnLaunchShuttle"
			package="max.retail.stores.pos.services.sale" />
		
		<!-- Rev 1.5 start -->
		<LANEACTION class="MAXValidateCRMEnrolOTPAisle" package="max.retail.stores.pos.services.customer.tic" />
		<SITEACTION class="MAXCRMEnrolmentEnterOTPSite" package="max.retail.stores.pos.services.customer.tic"/>
		<SITEACTION class="MAXLMREnrolmentOverrideAccessSite" package="max.retail.stores.pos.services.customer.tic"/>	
		<LANEACTION class="MAXOTPByPassedWithManagerOverrideAisle" package="max.retail.stores.pos.services.customer.tic" />
		<!-- Rev 1.5 end -->
		<!-- Changes for Manager Override Report Requirement - Start -->
		<LANEACTION class="MAXCancelSelectedAisle"
			package="max.retail.stores.pos.services.sale" />
			
		<!--  Changes for Manager Override Report Requirement - End -->
		
    </SERVICECODE>
    <MAP >
        <REGION  region="SERVICE" startsite="StartSale">
            <SITE name="StartSale" siteaction="StartSaleSite">
                <COMMENT>
                    This site checks to see if the system is configured
                    as POS.
                </COMMENT>
                <ROAD
                    name="SystemPOS"
                    letter="Pos"
                    destination="InitStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                    <COMMENT>
                        This road is traveled when the system is configured
                        as POS.
                    </COMMENT>
                </ROAD>
            </SITE>
            <STATION
                name="InitStation"
                servicename="sale.initialize.initialize"
                targettier="APPLICATIONTIER"
                launchshuttle="SaleLaunchShuttle"
                returnshuttle="SaleReturnShuttle">
                <COMMENT >
                    Login Cashier, check access and get cashiers open 
                    till
                </COMMENT>
               <ROAD 
                    name="InitRegisterContinue"
                    letter="Continue"
                    destination="PosOfflineCheck"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="InitRegisterFailed"
                    letter="Failure"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="InitRegisterCancel"
                    letter="Cancel"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="InitRegisterTimeout"
                    letter="TimeoutComplete"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                    <COMMENT >
                        Timeout of Service
                    </COMMENT>
                </ROAD>
		
                <ROAD
                    name="InitRegisterQueueFull"
                    letter="QueueFull"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
		
            </STATION>
                               
            
              <SITE name="PosOfflineCheck" siteaction="MAXPosOfflineStatusCheckSite">
               <ROAD name="PosOnlineRoad"
                     letter="Continue"
                     destination="BusinessDateMatch"
                     tape="ADVANCE" record="ON" index="ON">
                    <COMMENT>
                         This road is traveled when the till is not
                         open and the user agrees to open it.
                    </COMMENT>
               </ROAD>
               <ROAD name="PosOfflineRoad"
                     letter="Invalid"
                     destination="CheckAccess"
                     tape="ADVANCE" record="ON" index="ON">
              
               </ROAD>
                
          </SITE>
                            
              
            <STATION 
                name="CompleteSaleStation"
                servicename="sale.complete.completesale"
                targettier="APPLICATIONTIER"
                
                 launchshuttle="MAXSaleLaunchShuttle"
                returnshuttle="MAXSaleReturnShuttle">

                <ROAD 
                    name="SaleCashDrawerSuccess"
                    letter="Success"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="SaleContinue"
                    letter="Continue"
                    destination="StartSale"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="ActivationCancelled"
                    letter="ActivationCancelled"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD
                    name="CompleteSaleQueueFull"
                    letter="QueueFull"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                
                 <ROAD 
                    name="FiftCardActivationFails"
                    letter="TenderSale"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                
                 <ROAD 
                    name="FiftCardActivationFails"
                    letter="TenderSaleFinal"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                
                
                 <ROAD 
                    name="SaleSelected"
                    letter="TenderSaleT"
                    destination="ValidateSaleStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the user presses the Tender 
                        key.
                    </COMMENT>
                </ROAD>
	        </STATION>
	        
            <STATION
                name="ValidateSaleStation"
                servicename="sale.validate.validate"
                targettier="APPLICATIONTIER"
                launchshuttle="MAXSaleLaunchShuttle"
                returnshuttle="MAXSaleReturnShuttle">
                <ROAD
                    name="ValidationUndo"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="NoSelfDeclarationForm"
                    letter="No"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="ON"
                    index="ON">
                </ROAD>
                 <ROAD 
                    name="NoPanSelected"
                    letter="NoOptionSelected"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                
                <ROAD 
                    name="ValidationError"
                    letter="Ok"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="ValidationCancel"
                    letter="Cancel"
                    destination="InitStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="ValidationFailed"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="ValidationSucceded"
                    letter="Success"
                    destination="CompleteSaleStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="ValidationSuccededLayawayExit"
                    letter="ExitLayaway"
                    destination="InitStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD
                    name="ValidateQueueFull"
                    letter="QueueFull"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            </STATION>
            <STATION 
                name="DemographicsStation"
                servicename="sale.demographic.demographic"
                targettier="APPLICATIONTIER"
                launchshuttle="SaleLaunchShuttle"
                returnshuttle="SaleReturnShuttle">
                <ROAD 
                    name="DemographicsCollected"
                    letter="Success"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                
		
				
		<ROAD name="DemographicsNotCollected" letter="DemographicShowSale"
			destination="ShowSaleScreen" tape="ADVANCE" record="OFF" index="ON">
		</ROAD>
				
		<ROAD name="CustomerSearchStation" letter="CustomerSearchStation"
			destination="CustomerStation" tape="ADVANCE" record="OFF" index="ON">
		</ROAD>
				
		<AISLE name="SearchCustomerByPhone" letter="Continue"
			laneaction="MAXSearchCustomerByPhoneAisle" />
					
			
			
                <ROAD 
                    name="DemographicSkipped"
                    letter="Skip"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="UndoDemographics"
                    letter="Undo"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Leaves the service
                    </COMMENT>
                </ROAD>
            </STATION>
            <STATION name="InstantCreditStation" servicename="services.instantcredit.instantcredit"
               targettier="CURRENTTIER"
               launchshuttle="InstantCreditLaunchShuttle"
               returnshuttle="InstantCreditReturnShuttle">
               <ROAD name="InstantCreditReturnedContinue"
                     letter="Continue"
                     destination="ShowSaleScreen"
                     tape="ADVANCE"
                     record="OFF"
                     index="ON">
               </ROAD>
               <ROAD name="InstantCreditReturnedNext"
                     letter="Next"
                     destination="ShowSaleScreen"
                     tape="ADVANCE"
                     record="OFF"
                     index="ON">
               </ROAD>
               <ROAD name="NonTransactionEnrollment"
                        letter="Valid"
                        destination="ShowSaleScreen"
                        tape="ADVANCE"
                        record="OFF"
                        index="ON">
               </ROAD>
               <ROAD name="CancelInstantCredit"
                     letter="Cancel"
                     destination="ShowSaleScreen"
                     tape="ADVANCE"
                     record="OFF"
                     index="OFF">
               </ROAD>
               <ROAD name="InstantCreditExitPayment"
                     letter="ExitPayment"
                     destination="InitStation"
                     tape="ADVANCE"
                     record="OFF"
                     index="ON">
               </ROAD>
               <ROAD name="UndoInstantCredit"
                     letter="Undo"
                     destination="ShowSaleScreen"
                     tape="ADVANCE"
                     record="OFF"
                     index="OFF">
               </ROAD>
               <ROAD name="InstantCreditFailure"
                     letter="Failure"
                     destination="ShowSaleScreen"
                     tape="ADVANCE"
                     record="OFF"
                     index="ON">
               </ROAD>
               <ROAD name="InstantCreditOffline"
                     letter="Offline"
                     destination="ShowSaleScreen"
                     tape="ADVANCE"
                     record="OFF"
                     index="ON">
               </ROAD>
	       
               <ROAD
                    name="InstantCreditQueueFull"
                    letter="QueueFull"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
		
            </STATION>
            <STATION 
                name="RedeemStation"
                servicename="services.redeem.redeem"
                targettier="CURRENTTIER"
                launchshuttle="RedeemLaunchShuttle"
                returnshuttle="RedeemReturnShuttle">
                               
                <ROAD 
                    name="RedeemComplete"
                    letter="Continue"
                    destination="InitStation"
                    tape="DISCARD"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="UndoRedeem"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="CancelRedeem"
                    letter="Cancel"
                    destination="PrintCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD
                    name="FailureRedeem"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
		
                <ROAD
                    name="QueueFullRedeem"
                    letter="QueueFull"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
		
            </STATION>
            <!--Rev 1.0 changes start here  -->
            <SITE  name="ShowSaleScreen" siteaction="MAXShowSaleScreenSite">
                <COMMENT >
                    This site displays the SELL_ITEM screen.
                </COMMENT>
                <AISLE 
                    name="CancelSelected"
                    letter="Cancel"
                    laneaction="MAXCancelSelectedAisle">
                    <COMMENT >
                        Traversed when cancel is selected.
                    </COMMENT>
                </AISLE>
                                
                <AISLE 
                    name="CheckForSingleBarCode"
                    letter="Next"
                    laneaction="MAXCheckForSingleBarCodeAisle">
                    <COMMENT >
                        This aisle is traveled when an item number has been 
                        entered to check if the items entered is a single bar code.
                    </COMMENT>
                </AISLE>
                <ROAD 
                    name="SingleBarCodeEnteredRoad"
                    letter="SingleBarCode"
                    destination="ReadSingleBarCode"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD> 
             <AISLE 
                    name="ItemNumberEntered"
                    letter="Next1"
                    laneaction="MAXItemNumberEnteredAisle">
                    <COMMENT >
                        This aisle is traveled when an item number has been 
                        entered and is not empty.
                    </COMMENT>
                </AISLE>
                
                
                <ROAD 
                    name="ClearSelected"
                    letter="Clear"
                    destination="CheckRelatedItemDeletable"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This aisle is traversed when the user presses the 
                        Clear key from the SELL_ITEM screen. The system will check for
                        send item before delete
                    </COMMENT>
                </ROAD>         
                <ROAD
                    name="ValidItemNumberEntered"
                    letter="Valid"
                    destination="ItemLookupStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the item number
                        entered has been validated.
                    </COMMENT>
                </ROAD>
		<ROAD
                    name="CardLastItem"
                    letter="LastItem"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the item number
                        entered has been validated.
                    </COMMENT>
                </ROAD>
                <!-- Rev. 1.0 : Change start -->
                <ROAD
                    name="ItemQuantity"
                    letter="Quantity"
                    laneaction="MAXModifyItemSelectedRoad"
                    destination="MAXModifyItemQuantityStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the quantity has been
                        entered.
                	</COMMENT>
                </ROAD>
                
                <ROAD 
                    name="SaleSelected"
                    letter="TenderSale"
                    destination="ValidateSaleStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the user presses the Tender 
                        key.
                    </COMMENT>
                </ROAD>
                <ROAD
				    name="ApplyBestDealLogic" 
				    letter="ApplyDiscounts"
					destination="ItemLookupStationForBestDeal" 
					tape="ADVANCE" 
					record="OFF"
					index="OFF">
					<COMMENT>
						This road is traveled when the item number
						entered has been validated.
                    </COMMENT>
				</ROAD>
                
                <ROAD 
                    name="TenderSelected"
                    letter="TenderHome"
                    destination="ValidateSaleStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the user presses the Tender 
                        key.
                    </COMMENT>
                </ROAD>
 <!-- Change for Rev 1.4 : Starts -->
                <ROAD 
                   name="TenderSelected" 
                   letter="Tender"
				   destination="MAXDeliveyMarked" 
				   tape="ADVANCE" 
				   record="OFF"
				   index="OFF">
					<COMMENT>
						ValidateSaleStation to ...mod
						This road is traveled when the user presses the Tenderl
						key.
                    </COMMENT>
				</ROAD>
 <!-- Change for Rev 1.4 : Ends -->
                <ROAD 
                    name="ModifyTransactionSelected"
                    letter="Transaction"
                    destination="ModifyTransactionStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the user presses the Transaction 
                        key.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="CustomerSelected"
                    letter="Customer"
                    destination="CustomerStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Road to traverse when the user presses the Customer 
                        button.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ReturnSelected"
                    letter="Return"
                    destination="ReturnStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed when the user selects Return 
                        off the menu.
                    </COMMENT>
                </ROAD>
		
                 <ROAD 
                    name="ReturnSelected"
                    letter="GiftCardClear"
                    destination="ReturnStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed when the user selects Return 
                        off the menu.
                    </COMMENT>
                </ROAD>
                  <ROAD 
                    name="ReturnSelected"
                    letter="ReturnClear"
                    destination="ReturnStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed when the user selects Return 
                        off the menu.
                    </COMMENT>
                </ROAD>
		
                <ROAD 
                    name="UndoSelected"
                    letter="Undo"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Leaves the service
                    </COMMENT>
                    <LIGHT  signal="IsNotCustomerInfoSignal"/>
                    
                </ROAD>
                <ROAD 
                    name="NoSaleSelected"
                    letter="NoSale"
                    destination="NoSaleStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the user presses the No 
                        Sale key.
                    </COMMENT>
                </ROAD>
 	 
                <ROAD
                    name="EnterAdvanceSearch"
                    letter="AdvanceSearch"
                    destination="AdvanceSearchStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                
                <ROAD 
                    name="SaleScreenError"
                    letter="Ok"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when an error is encountered
                        during sale time.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ManagerSelected"
                    letter="Manager"
                    destination="ManagerStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="ReprintReceiptSelected"
                    letter="ReprintReceipt"
                    destination="ReprintReceiptStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="HouseAccountSelected"
                    letter="HouseAccount"
                    destination="InstantCreditStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
				<!-- Scan sheet -->
				<ROAD
                    name="ScanSheetSelected"
                    letter="ScanSheet"
                    destination="ScanSheetStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">                    
                </ROAD>
                <ROAD 
                    name="RedeemSelected"
                    letter="Redeem"
                    destination="RedeemStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="TillFunctionsSelected"
                    letter="TillFunctionsContinue"
                    destination="TillFunctionStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="SpecialOrderSelected"
                    letter="SpecialOrder"
                    destination="SpecialOrderStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="PricingSelected"
                    letter="Pricing"
                    laneaction="ModifyItemSelectedRoad"
                    destination="PricingStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road travels to the pricing station after the 
                        user has selected pricing.
                    </COMMENT>
                </ROAD>
                <ROAD
                    name="GiftCardCertSelected"
                    letter="GiftCardCert"
                    destination="GiftOptionsStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>                
                <ROAD
                    name="CancelSale"
                    letter="Override"
                    destination="CheckAccess"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                    <COMMENT>
                        This road is traveled when the user presses the Cancel
                        key from the SELL_ITEM screen.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ModifiedItemSelected"
                    letter="Item"
                    laneaction="ModifyItemSelectedRoad"
                    destination="ModifyItemStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="UndoWithCustomerInfoSelected"
                    letter="Undo"
                    destination="DemographicsStation"
                    tape="ADVANCE"
                    record="ON"
                    index="ON">
                    <LIGHT  signal="IsCustomerInfoSignal"/>
                </ROAD>
                <ROAD 
                    name="CancelTransactionOnTimeout"
                    letter="Timeout"
                    destination="SaveCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                
             	<ROAD
                    name="ScanVoidSelected"
                    letter="ItemVoid"
                    laneaction="MAXSetScanNVoidFlowRoad"
                    destination="ScanVoidItemScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                
                
                
				<AISLE name="TICRequestMobileNumberAisle" letter="TicRequestMobileNumber"
					laneaction="MAXTICRequestMobileNumberAisle">
					<COMMENT>
						This aisle is traveled when user select no in the tic customer required promt.
					</COMMENT>
				</AISLE>
				
				<ROAD 
                    name="EmployeeIDSlected"
                    letter="EmployeeID"
                    destination="employeeID"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                
            </SITE>
            
            <SITE name="employeeID" siteaction="MAXEmployeeIDSite">
            	
            	<AISLE name="EmployeeNumberCaptured" letter="Next"
					laneaction="MAXSpeclEmpDiscNumberCapturedAisle">
				</AISLE>
				
				<ROAD name="EmployeeDiscountFailure" letter="Failure"
					destination="employeeID" tape="ADVANCE" record="OFF"
					index="OFF">
				</ROAD>
				<ROAD name="EmployeeIDReceived" letter="Continue" destination="ShowSaleScreen">
					<COMMENT>
						The discount amount was added. Validate it.
                    </COMMENT>
				</ROAD>
				<ROAD name="EmployeeIDBack" letter="Back" destination="employeeID"
					tape="ADVANCE" record="OFF" index="OFF">
					<COMMENT>
						User press No to enter employee id again.
                    </COMMENT>
				</ROAD>
				<ROAD name="CancelEmployeeNumber" letter="Cancel" destination="ShowSaleScreen">
					<COMMENT>
						send a final letter with a parm telling the parent
						to give up
                    </COMMENT>
				</ROAD>
				<ROAD name="EmployeeNumberUndo" letter="Undo" destination="ShowSaleScreen">
				</ROAD>
            	
            	<ROAD 
                    name="EmployeeIDSlected"
                    letter="Next"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
            	
            </SITE>
            
            <!-- Change for Rev 1.4 : Starts -->
            <SITE name="MAXDeliveyMarked" siteaction="MAXDeliveyMarkedSite">
           		 <ROAD name="ShowSaleScreen" letter="Failure" destination="ShowSaleScreen"
					tape="ADVANCE" record="OFF" index="OFF">
				</ROAD>
				<ROAD name="ItemLookupStationForBestDeal" letter="Tender"
					destination="ItemLookupStationForBestDeal" tape="ADVANCE" record="OFF"
					index="OFF">
				</ROAD>
            </SITE>
             <!-- Change for Rev 1.4 : Ends -->
			<SITE name="MAXAddTICCustomer" siteaction="MAXAddTICCustomerSite">

				<AISLE name="RequireTICCustomer" letter="Next"
					laneaction="MAXTICCustomerEnteredAisle">
					<COMMENT>
						This aisle is traveled when an item number has been
						entered and is not empty.
					</COMMENT>
				</AISLE>
				<ROAD name="TICCustomerFailure" letter="Failure" destination="MAXAddTICCustomer"
					tape="ADVANCE" record="OFF" index="OFF">
				</ROAD>
				<ROAD name="TICCustomerProcessRequest" letter="ProcessRequest"
					destination="MAXProcessTICRequest" tape="ADVANCE" record="OFF"
					index="OFF">
				</ROAD>
				<ROAD name="MAXAddTICCustomerUndo" letter="Undo" destination="ShowSaleScreen"
					tape="ADVANCE" record="OFF" index="OFF">
				</ROAD>

			</SITE>

			<SITE name="MAXProcessTICRequest" siteaction="MAXProcessTICRequestSite">



				<ROAD name="TICCustomerRequestSuccess" letter="Tender2"
					destination="ItemLookupStationForBestDeal" tape="ADVANCE" record="OFF"
					index="OFF">
				</ROAD>
				
				<ROAD name="CRMEnrolmentOTPValidationReq" letter="OTPValidationRequired"
					destination="CRMEnrolmentOTPReq" tape="ADVANCE" record="OFF"
					index="ON">
				</ROAD>


				<AISLE name="CRMProcessOk" letter="Ok"
					laneaction="MAXExitTICCustomerScreenAisle">
				</AISLE>
				
				
				<ROAD name="CRMProcessReturn" letter="ReturnAdd"
					destination="MAXAddTICCustomer" tape="ADVANCE" record="OFF"
					index="ON">
				</ROAD>


				

				<AISLE name="CRMProcessNext" letter="Next"
					laneaction="MAXLinkTICCustomerAisle">
					<LIGHT signal="MAXIsExistingTICCustomerSignal" negate="Y" />
				</AISLE>

				

				<AISLE name="CRMProcessNext" letter="Next"
					laneaction="MAXExitTICCustomerScreenAisle">
					<LIGHT signal="MAXIsExistingTICCustomerSignal" />
				</AISLE>




				<AISLE name="TICCustomerLink" letter="LinkCustID"
					laneaction="MAXLinkTICCustomerAisle">
				</AISLE>

			</SITE>

			<!-- Rev 1.5 start -->
			<SITE name="CRMEnrolmentOTPReq" siteaction="MAXCRMEnrolmentEnterOTPSite">			
				<AISLE name="ValidateCRMEnrolOTP" letter="Next"
					laneaction="MAXValidateCRMEnrolOTPAisle">
				</AISLE>
				<ROAD name="CRMOTPValidSuccess" letter="Success" destination="MAXProcessTICRequest"
					tape="ADVANCE" record="OFF" index="ON">
				</ROAD>		
				<ROAD name="RetryOTP" letter="Retry" destination="CRMEnrolmentOTPReq"
					tape="ADVANCE" record="OFF" index="ON">
				</ROAD>
				<ROAD name="CancelOTP" letter="Cancel" destination="MAXAddTICCustomer"
					tape="ADVANCE" record="OFF" index="ON">
				</ROAD>
				<ROAD name="Undo" letter="Undo" destination="MAXAddTICCustomer"
					tape="ADVANCE" record="OFF" index="ON">
				</ROAD>
				<ROAD name="NoManagerOverride" letter="No" destination="MAXAddTICCustomer"
					tape="ADVANCE" record="OFF" index="ON">
				</ROAD>
				<ROAD name="ManagerOverride" letter="Yes" destination="LMREnrolmentOverrideAccess"
					tape="ADVANCE" record="OFF" index="ON">
				</ROAD>
			</SITE>
			<SITE name="LMREnrolmentOverrideAccess" siteaction="MAXLMREnrolmentOverrideAccessSite">
                    <ROAD 
                        name="NoAccess"
                        letter="Override"
                        destination="LMREnrolmentSecurityOverrideStation">
                    </ROAD>
                    <ROAD 
                        name="UserAuthorized"
                        letter="Continue"
                        destination="MAXProcessTICRequest">
                    </ROAD>
               </SITE>
	       <!--  from ls customized 12 version END -->
	      
	       <STATION name="LMREnrolmentSecurityOverrideStation"
                    servicename="security.override.override"
                    targettier="CURRENTTIER"
                    launchshuttle="SecurityOverrideLaunchShuttle" >
                    <ROAD 
                        name="LoginSucceededSecurityOverride"
                        letter="Success"
                         laneaction="MAXOTPByPassedWithManagerOverrideAisle"
                        destination="MAXProcessTICRequest"
                        tape="ADVANCE" record="OFF" index="OFF">
                    </ROAD>
                    <ROAD 
                        name="SecurityOverrideFailed"
                        letter="Failure"
                        destination="MAXAddTICCustomer"
                        tape="ADVANCE" record="OFF" index="OFF">
                    </ROAD>
                    <ROAD 
                        name="SecurityOverrideCancelled"
                        letter="Cancel"
                        destination="MAXAddTICCustomer"
                        tape="ADVANCE" record="OFF" index="OFF">
                    </ROAD>
               </STATION>
		<!-- Rev 1.5 end -->

            
            <SITE  name="CheckAccess" siteaction="CheckAccessSite">
                <ROAD 
                    name="OverrideRequired"
                    letter="Override"
                    destination="SecurityOverrideStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
		  
                <ROAD 
                    name="OverrideNotRequired"
                    letter="Failure"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                                 
                
                <ROAD 
                    name="CancelTransactionAccessGranted"
                    letter="Continue"
                    destination="OverrideSuccess"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD> 
                
            </SITE>
            <SITE  name="CheckForTrainingMode" siteaction="CheckForTrainingModeSite">
                <ROAD 
                    name="SetupTrainingModeRegisterRequired"
                    letter="TrainingOn"
                    destination="SetupRegisterStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="NotInTrainingMode"
                    letter="Continue"
                    destination="DemographicsStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            </SITE>
         
            <SITE name="BusinessDateMatch" siteaction="MAXBusinessDateMismatchSite">
               <ROAD
                    name="DateMatchFail"
                    letter="Invalid"
                    destination="CheckAccess"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                 <ROAD
                    name="DateMatchSuccess"
                    letter="Continue"
                    destination="CheckForTrainingMode"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            </SITE>
             
             
       
            <SITE name="CheckRelatedItemDeletable" siteaction="CheckRelatedItemDeletableSite">
                <ROAD
                    name="RelatedItemDeleteAllowed"
                    letter="Continue"
                    destination="CheckForSend"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD
                    name="RelatedItemDeleteShipping"
                    letter="Shipping"
                    destination="CheckForShipping"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD
                    name="RelatedItemDeleteFailure"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            </SITE>
            <SITE name="CheckForShipping" siteaction="CheckForShippingSite">
                <ROAD
                    name="DeleteShippingYes"
                    letter="Yes"
                    laneaction="AddShippingItemToDeleteRoad"
                    destination="CheckForSend"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traversed when Yes selected from CheckForShipping
                    </COMMENT>
                </ROAD>
                <ROAD
                    name="DeleteShippingNo"
                    letter="No"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traversed when No selected from CheckForShipping
                    </COMMENT>
                </ROAD>
            </SITE>
            <SITE name="MAXCheckRelatedItemDeletable" siteaction="MAXCheckRelatedItemDeletableSite">
                <ROAD
                    name="RelatedItemDeleteAllowed"
                    letter="Continue"
                    destination="CheckForSend"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD
                    name="RelatedItemDeleteFailure"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <LIGHT  signal="IsNotScanAndVoidSignal"/>
                </ROAD>
                <ROAD
                    name="RelatedItemDeleteFailure"
                    letter="Failure"
                    destination="ItemListScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <LIGHT  signal="IsScanAndVoidSignal"/>
                </ROAD>
            </SITE>
            <!-- Changes for Rev 1.1 : Starts -->
            <SITE name="CheckForSend" siteaction="MAXCheckForSendSite">
            <!-- Changes for Rev 1.1 : Ends -->
                <ROAD 
                    name="UpdateShippingSelected"
                    letter="UpdateShippingCharge"
                    destination="CheckTransactionLevelSendAssigned"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This aisle is traversed when pass from CheckForSend
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="FailureDeleteSend"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Not allow to delete items from multiple sends.
                    </COMMENT>
                    <LIGHT  signal="IsNotScanAndVoidSignal"/>
                </ROAD>
                <ROAD 
                    name="FailureDeleteSend"
                    letter="Failure"
                    destination="ItemListScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Not allow to delete items from multiple sends.
                    </COMMENT>
                    <LIGHT  signal="IsScanAndVoidSignal"/>
                </ROAD>
            </SITE>
            <SITE name="CheckTransactionLevelSendAssigned" siteaction="CheckTransactionLevelSendAssignedSite">
                <ROAD 
                    name="UpdateShippingSelected"
                    letter="Next"
                    destination="UpdateShippingCharge"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This aisle is traversed when pass from CheckForSend
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="DeleteSelected"
                    letter="Continue"
                    laneaction="MAXDeleteItemRoad"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <LIGHT  signal="IsNotScanAndVoidSignal"/>
                </ROAD>
                <ROAD 
                    name="DeleteSelected"
                    letter="Continue"
                    laneaction="MAXDeleteItemRoad"
                    destination="CheckRelatedItemSearch"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <LIGHT  signal="IsScanAndVoidSignal"/>
                </ROAD>
            </SITE>
			<!-- Change for Rev 1.4 : Starts -->
           <SITE name="UpdateShippingCharge" siteaction="MAXUpdateShippingChargeSite">
           <!-- Change for Rev 1.4 : Ends -->
            <!-- modified by Izhar -->
                               <!--  <ROAD 
                    name="DeleteSelected"
                    letter="Delete"
                    laneaction="MAXDeleteItemRoad"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        No need to change shipping method if not send item, or remove 
                        all the items from a send.
                    </COMMENT>
                </ROAD> -->
                <ROAD 
                    name="DeleteSelected"
                    letter="Delete"
                    laneaction="MAXDeleteItemRoad"
                    destination="ApplyInvoiceStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        No need to change shipping method if not send item, or remove 
                        all the items from a send.
                    </COMMENT>
                </ROAD>
                <!-- izhar -->
                <ROAD 
                    name="ChangeShippingMethodSelected"
                    letter="ChangeShippingMethod"
                    laneaction="MAXDeleteItemRoad"
                    destination="DisplaySendMethodStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        need to change shipping method, if part of items in a send are
                        deleted.
                    </COMMENT>
                </ROAD>
            </SITE>    
			
            <STATION 
                name="SetupRegisterStation"
                servicename="dailyoperations.common.setupregister"
                targettier="CURRENTTIER"
                launchshuttle="SetupRegisterShuttle"
                returnshuttle="SetupRegisterReturnShuttle">
                <ROAD 
                    name="LookupStoreStatusExit"
                    letter="Failure"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Aisle to traverse when there is a database or other 
                        unexpected error on the store-status lookup. Because 
                        the hard totals do not contain the business date, 
                        the service exits.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="Exit"
                    letter="Ok"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Road to traverse when no register parameter is found. 
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="LookupRegisterContinue"
                    letter="Continue"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Road to traverse when a register lookup is complete. 
                    </COMMENT>
                </ROAD>
            </STATION>
            <STATION 
                name="SecurityOverrideStation"
                servicename="security.override.override"
                targettier="CURRENTTIER"
                launchshuttle="SecurityOverrideLaunchShuttle">
                                                   
                
                <ROAD 
                    name="OverrideSuccessful"
                    letter="Success"
                    destination="OverrideSuccess"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                                                 
                
                <ROAD 
                    name="CancelTransactionSecurityOverrideFailed"
                    letter="Failure"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
		     
            </STATION>
            <SITE name="OverrideSuccess" siteaction="MAXOverrideSuccessSite">
            	<ROAD 
                    name="CancelTransactionSecurityOverrideSucceeded"
                    letter="CancelTransactionSuccess"
                    destination="PrintCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="PosOfflineSecurityOverrideSucceeded"
                    letter="PosOfflineSuccess"
                    destination="BusinessDateMatch"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            	<ROAD 
                    name="BusinessDateSecurityOverrideSucceeded"
                    letter="BusinessDateSuccess"
                    destination="CheckForTrainingMode"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            	</SITE>
		
            <STATION 
                name="PricingStation"
                servicename="services.pricing.pricing"
                targettier="CURRENTTIER"
                launchshuttle="MAXPricingLaunchShuttle"
                returnshuttle="MAXPricingReturnShuttle">
                <COMMENT >
                    This station starts the pricing service
                </COMMENT>
                <ROAD 
                    name="PricingUndo"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed when escape has been pressed 
                        from the pricing options screen.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="PricingComplete"
                    letter="Next"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the pricing service is 
                        returns succesfully
                    </COMMENT>
                </ROAD>
                
                  <ROAD 
                    name="PricingComplete"
                    letter="EmpRemoved"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the pricing service is 
                        returns succesfully
                    </COMMENT>
                </ROAD>
               
                <ROAD 
                    name="PricingUndone"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the pricing service is 
                        undone.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="PricingCanceled"
                    letter="Cancel"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the pricing service is 
                        cancled.
                    </COMMENT>
                </ROAD>                
                <ROAD 
                    name="ContinuePriceAdjustment"
                    letter="Continue"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road goes to the Show Sale Screen.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="FailurePriceAdjustment"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed in a Failure letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ExitPriceAdjustment"
                    letter="Exit"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed in a Exit letter.
                    </COMMENT>
                </ROAD>                                
                <ROAD 
                    name="OkLetterPriceAdjustment"
                    letter="Ok"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed in a Ok letter.
                    </COMMENT>
                </ROAD>                
                <ROAD 
                    name="SuccessPriceAdjustment"
                    letter="Success"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed in a Success letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ItemsFoundPriceAdjustment"
                    letter="ItemsFound"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed in a ItemsFound letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="TransactionNotFoundPriceAdjustment"
                    letter="ReturnItem"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed in a ReturnItem letter when no transaction is found.
                    </COMMENT>
                </ROAD>     
                <ROAD 
                    name="InvalidReadTransaction"
                    letter="Invalid"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Transaction read is invalid for return such as house 
                        account payment transaction.
                    </COMMENT>
                </ROAD>   
                 <ROAD
                    name="CancelMenuPricing"
                    letter="CancelMenu"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the Modify Transaction
                        service returns with an CancelMenu letter.
                    </COMMENT>
                </ROAD>                                                        
                
            </STATION>
            <STATION 
                name="ScanSheetStation"
                servicename="sale.scansheet.scansheet"
                targettier="CURRENTTIER"
                launchshuttle="ScanSheetLaunchShuttle"
                returnshuttle="MAXScanSheetReturnShuttle">
                <AISLE
                    name="ScanSheetNext"
                    letter="Next"
                    laneaction="MAXItemNumberEnteredAisle">
                </AISLE>
                <ROAD
                    name="ScanSheetUndo"
                    letter="Return"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD
                    name="ValidItemNumberEntered"
                    letter="Valid"
                    destination="ItemLookupStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the item number
                        entered has been validated.
                    </COMMENT>
                </ROAD>
                <ROAD
                    name="ItemNumberEnteredError"
                    letter="Ok"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when an error is encountered
                        during sale time.
                    </COMMENT>
                </ROAD>
            </STATION>
            <STATION 
                name="TillFunctionStation"
                servicename="till.tilloptions.tilloptions"
                targettier="CURRENTTIER"
                launchshuttle="TillFunctionLaunchShuttle"
                returnshuttle="FinancialCargoShuttle">
                <COMMENT >
                    This station is the transfer point for the till service. 
                </COMMENT>
                <AISLE 
                    name="TillFunctionFailure"
                    letter="Failure"
                    laneaction="CancelLetterAisle">
                    <COMMENT >
                        This aisle is traversed to convert the current letter 
                        to cancel
                    </COMMENT>
                </AISLE>
                <AISLE 
                    name="TillFunctionUndo"
                    letter="Undo"
                    laneaction="CancelLetterAisle">
                    <COMMENT >
                        This aisle is traversed to convert the current letter 
                        to cancel
                    </COMMENT>
                </AISLE>
                <ROAD 
                    name="TillFunctionCancel"
                    letter="Cancel"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Till Function service 
                        returns.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="TillFunctionSuccess"
                    letter="Success"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Till Function service 
                        returns with a Success letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="TillFunctionLogoff"
                    letter="Logoff"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Till Function service 
                        returns with a Logoff letter.
                    </COMMENT>
                </ROAD>
		
                <ROAD
                    name="TillFunctionsQueueFull"
                    letter="QueueFull"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
		
            </STATION>
            <SITE  name="PrintCancelTransaction" siteaction="PrintCancelTransactionSite">
                <COMMENT >
                    This site prints the canceled transaction receipt.
                </COMMENT>
                <ROAD
                    name="CancelTransactionReceiptPrinted"
                    letter="Continue" 
                    destination="SaveCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed when the cancel transaction receipt 
                        is successfully printed or when the printer is offline   
                        and the operator selects continue.
                    </COMMENT>
                </ROAD>
                <ROAD
                    name="PrintCancelTransactionRetry"
                    letter="Retry"
                    destination="PrintCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed when the printer is offline 
                        and the operator selects retry.
                    </COMMENT>
                </ROAD>                    
            </SITE>                                       
            <SITE  name="SaveCancelTransaction" siteaction="SaveCanceledTransactionSite">
                <COMMENT >
                    This site saves the current canceled transaction.
                </COMMENT>
                <ROAD 
                    name="TransactionCanceled"
                    letter="Continue"
                    destination="InitStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
		
                <ROAD
                    name="TransactionCanceledRetry"
                    letter="Retry"
                    destination="SaveCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD
                    name="TransactionCanceledQueueFull"
                    letter="QueueFull"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
		
            </SITE>
            <STATION 
                name="ReprintReceiptStation"
                servicename="services.reprintreceipt.reprintreceipt"
                targettier="CURRENTTIER"
                launchshuttle="ReprintReceiptLaunchShuttle">
                <COMMENT >
                    This station is the transfer point for the reprint 
                    receipt.
                </COMMENT>
                <ROAD 
                    name="ReprintReceiptReturned"
                    letter="Next"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Reprint Receipt service 
                        returns.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="CancelReprintReceipt"
                    letter="Cancel"
                    destination="PrintCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Reprint Receipt service 
                        returns with a Cancel letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="UndoReprintReceipt"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Reprint Receipt service 
                        returns with an Undo letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="FailureReprintReceipt"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Reprint Receipt service 
                        returns with a Failure letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="SuccessReprintReceipt"
                    letter="Success"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Reprint Receipt service 
                        returns with a Success letter.
                    </COMMENT>
                </ROAD>
            </STATION>
            <STATION 
                name="NoSaleStation"
                servicename="services.nosale.nosale"
                targettier="CURRENTTIER"
                launchshuttle="FinancialCargoShuttle"
                returnshuttle="FinancialCargoShuttle">
                <COMMENT >
                    This station is the launch point for the No Sale service. 
                </COMMENT>
                <ROAD 
                    name="CancelNoSale"
                    letter="Cancel"
                    destination="PrintCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the No Sale service returns 
                        with a Cancel letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="FailureNoSale"
                    letter="Failure"
                    destination="PrintCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the No Sale service returns 
                        with a Failure letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="UndoNoSale"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the No Sale service returns 
                        with an Undo letter.
                    </COMMENT>
                </ROAD>
                <ROAD
                    name="NoSaleReturned"
                    letter="Next"
                    destination="InitStation"
                    tape="DISCARD"
                    record="OFF"
                    index="OFF">
                </ROAD>
		
                <ROAD
                    name="NoSaleQueueFull"
                    letter="QueueFull"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
		
            </STATION>
            <STATION 
                name="ModifyTransactionStation"
                servicename="services.modifytransaction.ModifyTransaction"
                targettier="CURRENTTIER"
                launchshuttle="MAXModifyTransactionLaunchShuttle"
                returnshuttle="MAXModifyTransactionReturnShuttle">
                <COMMENT >
                    This station is the launch point for the Modify Transaction 
                    service.
                </COMMENT>
                <ROAD 
                    name="ModifyTransactionReturnedFromTaxExemptNotAllowed"
                    letter="Ok"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Transaction 
                        service returns due to the tax exempt not allowed. 
                    </COMMENT>
                </ROAD>
				
               <ROAD name="BlockTrans"
                     letter="blocktransaction"
                     destination="ShowSaleScreen"
                     tape="ADVANCE" record="ON" index="ON">
                     <COMMENT>
                         This road is traversed when the user select gift registry.
                     </COMMENT>
               </ROAD>
               
                <ROAD 
                    name="ModifyTransactionReturnedWithContinue"
                    letter="Continue"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Transaction 
                        service returns due to the tax exempt not allowed. 
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ModifyTransactionReturnedWithAllItemNotEligible"
                    letter="AllItemNotEligible"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Transaction 
                        service returns due to the tax exempt not allowed. 
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ModifyTransactionReturned"
                    letter="Next"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Transaction 
                        service returns.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="CancelModifyTransaction"
                    letter="Cancel"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Transaction 
                        service returns with a Cancel letter.
                    </COMMENT>
                    <LIGHT  signal="IsNotLayawayTransactionSignal"/>
                </ROAD>
                <ROAD 
                    name="CancelLayawayTransaction"
                    letter="Cancel"
                    destination="PrintCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Transaction 
                        service returns with a Cancel letter.
                    </COMMENT>
                    <LIGHT  signal="IsLayawayTransactionSignal"/>
                </ROAD>
                <ROAD 
                    name="UndoModifyTransaction"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Transaction 
                        service returns with an Undo letter.
                    </COMMENT>
                </ROAD>
                <ROAD
                    name="CancelMenuModifyTransaction"
                    letter="CancelMenu"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the Modify Transaction
                        service returns with an CancelMenu letter.
                    </COMMENT>
                </ROAD>                
                <ROAD 
                    name="FailureModifyTransaction"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Transaction 
                        service returns with a Failure letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="SuccessModifyTransaction"
                    letter="Success"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Transaction 
                        service returns with a Success letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                      name="LayawayExitFromModifyTransaction"
                       letter="ExitLayaway"
                    destination="InitStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                      This road is traveled when the Modify Transaction 
                      service returns with a ExitLayaway letter.
                    </COMMENT>
                </ROAD>
                 <ROAD
                    name="TransactionVoided"
                    letter="VoidedTransaction"
                    destination="InitStation"
                    tape="DISCARD"
                    record="OFF"
                    index="OFF">
                </ROAD>  
                <ROAD
                    name="TransactionSuspended"
                    letter="SuspendedTransaction"
                    destination="InitStation"
                    tape="DISCARD"
                    record="OFF"
                    index="OFF">
                </ROAD>  
                <ROAD 
                    name="TransactionLevelSend"
                    letter="Done"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service 
                        returns with a Done letter from sendmain service. 
                    </COMMENT>
                </ROAD> 
                <ROAD
                    name="TransactionQueueFull"
                    letter="QueueFull"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="NoSelected"
                    letter="No"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Transaction 
                        service returns with an No letter.
                    </COMMENT>
                </ROAD>                          
            </STATION>
            <STATION 
                name="CustomerStation"
                servicename="customer.main.customermain"
                targettier="CURRENTTIER"
                launchshuttle="MAXCustomerLaunchShuttle"
                returnshuttle="MAXCustomerReturnShuttle">
                <COMMENT >
                    Transfer control to customer services to execute 
                    Customer functionality.
                </COMMENT>
                <ROAD 
                    name="CustomerContinue"
                    letter="Continue"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Road to traverse when the Customer service runs to 
                        completion.
                    </COMMENT>
                </ROAD>
                
                
				<ROAD name="failureByPhoneNumberSale" letter="failureByPhoneNumber" destination="ShowSaleScreen"
					tape="ADVANCE" record="OFF" index="OFF">
					<COMMENT>
						Road to traverse when no customer found in the db with the phone no entered during start of transaction
                    </COMMENT>
				</ROAD>
                <ROAD 
                    name="CustomerUndo"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Road to traverse when the user backs out of the Customer 
                        service.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="CustomerCancel"
                    letter="Cancel"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Road to traverse when the user Cancels out of the Customer 
                        service.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="CustomerOffline"
                    letter="Offline"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Road to traverse when the user Customer service is 
                        offline
                    </COMMENT>
                </ROAD>
            </STATION>
        
             <STATION
                 name="SerializedItemStation"
                 servicename="modifyitem.serialnumber.serializedItem"
                 targettier="CURRENTTIER"
                 launchshuttle="ModifyItemSerialNumberLaunchShuttle">
                 <COMMENT>
                     This service prompts the user for serial number input and sets the serial number attribute
                     for one or more line items.
                 </COMMENT>
                 <ROAD
                     name="SerializedItemUndo"
                     laneaction="RemoveItemRoad"
                     letter="Undo"
                     destination="ShowSaleScreen">
                 </ROAD>
                 <ROAD
                     name="SerializedItemCancel"
                     letter="Cancel"
                     destination="ShowSaleScreen">
                 </ROAD>
                 <ROAD
                     name="SerialNumbersEntered"
                     letter="Ok"
                     laneaction="ItemAddedRoad"
                     destination="RelatedItemStation">
                 </ROAD>
            </STATION>
         
            
            <STATION 
                name="ModifyItemStation"
                servicename="services.modifyitem.modifyitem"
                targettier="CURRENTTIER"
                launchshuttle="MAXModifyItemLaunchShuttle"
                returnshuttle="MAXModifyItemReturnShuttle">
            
                <COMMENT >
                    This station is the launch point for the Modify Item 
                    service.
                </COMMENT>
                <ROAD 
                    name="UndoModifyItem"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service 
                        returns with an Undo letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ClearModifyItem"
                    letter="Clear"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Use this road to respond to the Clear key and return 
                        to the ShowSaleScreen site. returns with an Undo 
                        letter.
                    </COMMENT>
                </ROAD>
				
				<ROAD name="BlockItem"
                     letter="blockitem"
                     destination="ShowSaleScreen"
                     tape="ADVANCE" record="ON" index="ON">
                     <COMMENT>
                         This road is traversed when the user select gift registry.
                     </COMMENT>
               </ROAD>
               
                <ROAD 
                    name="ModifyItemReturned"
                    letter="Next"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service 
                        returns normally.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="CancelModifyItem"
                    letter="Cancel"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service 
                        returns with a Cancel letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="FailureModifyItem"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service 
                        returns with a Failure letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ModifyItemAdded"
                    letter="Add"
                    destination="AddItem"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service 
                        returns with an Add letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ModifyItemOk"
                    letter="Ok"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service 
                        returns with an Ok letter from an error dialog screen. 
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ModifyItemContinue"
                    letter="Continue"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service 
                        returns with a Continue letter from sendmain service. 
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ModifyItemSendDone"
                    letter="Done"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service 
                        returns with a Done letter from sendmain service. 
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ModifyItemSuccess"
                    letter="Success"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service 
                        returns with a Success letter from sendmain service. 
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ModifyItemInvalid"
                    letter="Invalid"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            </STATION>
            <STATION 
                name="ReturnStation"
                servicename="returns.returnoptions.returnoptions"
                targettier="CURRENTTIER"
                launchshuttle="MAXReturnLaunchShuttle"   
                returnshuttle="MAXReturnReturnShuttle">
                <COMMENT >
                    This station goes to the Return service.
                </COMMENT>
                <ROAD 
                    name="CancelReturnStation"
                    letter="Cancel"
                    destination="PrintCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road goes to create a new transaction.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ContinueReturnStation"
                    letter="Continue"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road goes to the Show Sale Screen.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="UndoReturnStation"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road goes to the ShowSaleScreen.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="FailureReturnStation"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed in a Success letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="SuccessReturnStation"
                    letter="Success"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traversed in a Success letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="TimeoutReturnStation"
                    letter="Timeout"
                    destination="SaveCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road goes to the ShowSaleScreen, after a return was timed out.
                    </COMMENT>
                </ROAD>
				
                <ROAD 
                    name="NoLinkReturnStation"
                    letter="NoLink"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road goes to the ShowSaleScreen.
                    </COMMENT>
                </ROAD>
                
                <ROAD
                    name="ReturnOptionsQueueFull"
                    letter="QueueFull"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            </STATION>
            <STATION 
                name="ManagerStation"
                servicename="services.manager.manager"
                targettier="APPLICATIONTIER"
                launchshuttle="FinancialCargoShuttle">
                <ROAD 
                    name="CancelSelected"
                    letter="Cancel"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="UndoSelected"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            </STATION>
            
            <STATION 
                name="GiftOptionsStation"
                servicename="services.giftoptions.giftoptions"
                targettier="APPLICATIONTIER"
                launchshuttle="GiftOptionsLaunchShuttle"
            returnshuttle="GiftOptionsReturnShuttle">
                <ROAD
                    name="AddGiftCardItem"
                    letter="Continue"
                    destination="AddItem"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
				
               <ROAD name="BlockTrans"
                     letter="blockgiftoption"
                     destination="ShowSaleScreen"
                     tape="ADVANCE" record="ON" index="ON">
                     <COMMENT>
                         This road is traversed when the user select gift registry.
                     </COMMENT>
               </ROAD>
              
                <ROAD 
                    name="UndoGiftCardOptionsSelected"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
		        <ROAD 
                    name="UndoGiftOptionsSelected"
                    letter="UndoGift"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="GiftCardOptionsCompleted"
                    letter="Success"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                 </ROAD>
                <ROAD 
                    name="CancelGiftCardOptionsSelected"
                    letter="Cancel"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>                
            </STATION>                       
            <SITE  name="EnterItemSize" siteaction="EnterItemSizeSite">
                <AISLE 
                    name="ValidateItemSize"
                    letter="Next"
                    laneaction="ValidateItemSizeAisle">
                </AISLE>
                <AISLE 
                    name="DisplayItemSizeDialog"
                    letter="Invalid"
                    laneaction="DisplayItemSizeDialogAisle">
                </AISLE>
                <ROAD  
                    name="ItemSizeReenter"
                    letter="Ok"
                    destination="EnterItemSize"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD  
                    name="AddItemRoad"
                    letter="Search"
                    destination="AddItem"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="CancelEnterItemSize"
                    laneaction="RemoveItemRoad"
                    letter="Cancel"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="UndoEnterItemSize"
                    laneaction="RemoveItemRoad"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            </SITE>
            <STATION 
                name="SpecialOrderStation"
                servicename="services.specialorder.specialorder"
                targettier="CURRENTTIER"
                launchshuttle="SpecialOrderLaunchShuttle"
                returnshuttle="SpecialOrderReturnShuttle">
                <COMMENT >
                    This station is the transfer point for the special 
                    order service.
                </COMMENT>
                <AISLE 
                    name="SpecialOrderFailure"
                    letter="Failure"
                    laneaction="CancelLetterAisle">
                    <COMMENT >
                        This aisle is traversed to convert the current letter 
                        to cancel
                    </COMMENT>
                </AISLE>
                <ROAD 
                    name="SpecialOrderSuccess"
                    letter="Success"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the special order service 
                        returns with a Success letter.
                    </COMMENT>
                </ROAD>
				
               <ROAD name="BlockSplOrder"
                     letter="blockspecialorder"
                     destination="ShowSaleScreen"
                     tape="ADVANCE" record="ON" index="ON">
                     <COMMENT>
                         This road is traversed when the user select gift registry.
                     </COMMENT>
               </ROAD>
              
                <ROAD 
                    name="SpecialOrderUndo"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the special order service 
                        returns with a Undo letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="SpecialOrderCancel"
                    letter="Cancel"
                    destination="PrintCancelTransaction"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Till Function service 
                        returns.
                    </COMMENT>
                </ROAD>
                <ROAD
                    name="SpecialOrderQueueFull"
                    letter="QueueFull"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            </STATION>
            <STATION 
                name="ItemLookupStation"
                servicename="iteminquiry.itemlookup.itemlookup"
                targettier="APPLICATIONTIER"
                launchshuttle="MAXItemLookupLaunchShuttle"
                returnshuttle="ItemLookupReturnShuttle">
                <COMMENT >
                    Includes item lookup, checking if item is valid for 
                    transaction and adding item to transaction
                </COMMENT>
                <AISLE 
                    name="CheckForSizeRequired"
                    letter="Continue"
                    laneaction="CheckIfSizeRequiredAisle">
                </AISLE>
                <ROAD 
                    name="EnterSize"
                    letter="Size"
                    destination="EnterItemSize"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD> 
				
               <ROAD  name="CashThrehold"
                      letter="Ok"
                      destination="ShowSaleScreen"
                      tape="ADVANCE" record="OFF" index="ON">
               </ROAD>
               	
                <ROAD  
                    name="ItemAdd"
                    letter="Continue2"
                    destination="AddItem"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="InvalidItemNumberEntered"
                    letter="Invalid"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
               <!-- India Localization- Item Creation Changes 
               Disabling the Item Creation screen -->
                <ROAD 
                    name="ItemNotFound"
                    letter="Retry"
                    destination="EnterItemInfo"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <!--                
                 <ROAD 
                    name="ItemNotFound"
                    letter="Retry"
                    destination="EnterItemInfo"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>-->
                <!-- Change for Rev 1.4 : Starts -->
				<ROAD name="HSNnotFound" letter="HSNnotFound" destination="EnterItemInfo"
					tape="ADVANCE" record="OFF" index="ON">
				</ROAD>
                 <!-- Change for Rev 1.4 : Ends -->
                <ROAD 
                    name="CancelItemLookup"
                    letter="Cancel"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Reprint Receipt service 
                        returns with a Cancel letter.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="UndoItemLookup"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Reprint Receipt service 
                        returns with an Undo letter.
                    </COMMENT>
                </ROAD>

                <ROAD  
                    name="ItemGiftCard"
                    letter="GiftCard"
                    destination="AddItem"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
<!-- Dead road?
                <ROAD  
                    name="CheckItemTypeCompleted"
                    letter="Next"
                    destination="AddItem"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
-->                
            </STATION>
            <SITE  name="EnterItemInfo" siteaction="MAXEnterItemInfoSite">
                <COMMENT >
                    This site displays the ITEM_NOT_FOUND form to allow 
                    the user to enter the required information for the 
                    item.
                </COMMENT>
                <AISLE 
                    name="ItemInfoEntered"
                    letter="Next"
                    laneaction="ItemInfoEnteredAisle">
                    <COMMENT >
                        This aisle is traversed after the user entered the 
                        item information. It adds the item to the item list 
                        in the cargo.
                    </COMMENT>
                </AISLE>
                <AISLE 
                    name="CancelSelected"
                    letter="Cancel"
                    laneaction="CancelSelectedAisle">
                    <COMMENT >
                        Traversed when cancel is selected.
                    </COMMENT>
                </AISLE>
                <ROAD 
                    name="NewItemAdded"
                    letter="Continue"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the new item information 
                        has been stored in the cargo.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="ValidationErrorOkEnterReturnItemInformation"
                    letter="Ok"
                    destination="EnterItemInfo"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="UndoItem"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the user presses the Undo 
                        key in the ITEM_NOT_FOUND form.
                    </COMMENT>
                </ROAD>
                <ROAD 
                    name="InvalidItem"
                    letter="Invalid"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="CancelEnterItem"
                    letter="Override"
                    destination="CheckAccess"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                    <COMMENT >
                        This road is traveled when the user presses the Cancel 
                        key from the EnterItemInfo screen.
                    </COMMENT>
                </ROAD>
            </SITE>
            <SITE  name="AddItem" siteaction="MAXAddItemSite"> 
                 <AISLE 
                    name="SpecialOrder"
                    letter="NotValid"
                    laneaction="DisplayItemErrorAisle">
                    <COMMENT >
                        Special order state active and item is not valid
                    </COMMENT>
                </AISLE>
                <ROAD 
                    name="ItemAdded"
                    letter="Continue"
                    laneaction="ItemAddedRoad"
                    destination="RelatedItemStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                   <ROAD 
                    name="GetSerialNumbers"
                    letter="GetSerialNumbers"
                    destination="SerializedItemStation"
                    tape="ADVANCE"
                    record="ON"
                    index="ON">
                </ROAD>
                 <ROAD 
                    name="SpecialOrderNotEligible"
                    letter="Invalid"
                    laneaction="RemoveItemRoad"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="ON"
                    index="ON">
                </ROAD>
            </SITE>
            <STATION
                name="DisplaySendMethodStation"
                servicename="send.displaysendmethod.displaysendmethod"
                targettier="CURRENTTIER"
                launchshuttle="DisplaySendMethodLaunchShuttle">
                <COMMENT>
                    This station goes to the display send method station for updating 
                    shipping method.
                </COMMENT>
                <ROAD
                    name="SuccessSelectedRoad"
                    letter="Success"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                    <COMMENT>
                        This road is traversed when a Done letter is received
                    </COMMENT>
                    <LIGHT  signal="IsNotScanAndVoidSignal"/>
                </ROAD>
                <ROAD
                    name="SuccessSelectedRoad"
                    letter="Success"
                    destination="CheckRelatedItemSearch"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                    <COMMENT>
                        This road is traversed when a Done letter is received
                    </COMMENT>
                    <LIGHT  signal="IsScanAndVoidSignal"/>
                </ROAD>
				<ROAD
                    name="DoneSelectedRoad"
                    letter="Done"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                    <COMMENT>
                        This road is traversed when a Done letter is received
                    </COMMENT>
                    <LIGHT  signal="IsNotScanAndVoidSignal"/>
                </ROAD>
                <ROAD
                    name="DoneSelectedRoad"
                    letter="Done"
                    destination="CheckRelatedItemSearch"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                    <COMMENT>
                        This road is traversed when a Done letter is received
                    </COMMENT>
                    <LIGHT  signal="IsScanAndVoidSignal"/>
                </ROAD>
            </STATION>            
            <STATION
                name="RelatedItemStation"
                servicename="modifyitem.relateditem.relateditem"
                targettier="CURRENTTIER"
                launchshuttle="RelatedItemLaunchShuttle">
                <COMMENT>
                    This station goes to the related item services to add all
                    related items.
                </COMMENT>
                
                <AISLE 
                	name="CheckMposTransactionAisle"
                	letter="Done"
                	laneaction="MAXCheckMposTransactionAisle"
                	>
                </AISLE>
                
                <ROAD
                	name="MposDataUpdateFailedRoad"
                	letter="Ok"
                	destination="ShowSaleScreen"
                	tape="ADVANCE"
                	record="OFF"
                	index="ON">
                </ROAD>	   
                <ROAD
                    name="AddPendingMposDataRoad"
                    letter="Continue"
                    destination="ProcessSingleBarCode"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>  
                <ROAD
                    name="RelatedItemsAdded"
                    letter="Next"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                    <!--LIGHT  signal="IsNotLayawayTransactionSignal"/-->
                </ROAD>
                <ROAD
                    name="RelatedItemsCancel"
                    letter="Override"
                    destination="CheckAccess"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD 
                    name="RelatedItemsUndo"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>                    
            </STATION>
            <SITE  name="ScanVoidItemScreen" siteaction="MAXScanVoidItemScreenSite">
            	<ROAD
                    name="ValidateItemNumberEntered"
                    letter="Next"
                    destination="ValidateItemNumberForVoid"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Validates the Item Number entered against the list of items in the cart.
                    </COMMENT>
                </ROAD>
                 <ROAD
                    name="ItemQuantity"
                    letter="Quantity"
                    laneaction="MAXModifyItemSelectedRoad"
                    destination="MAXModifyItemQuantityStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the quantity has been
                        entered.
                	</COMMENT>
                </ROAD>
				
                <ROAD
                    name="UndoSelected"
                    letter="Undo"
                    laneaction="MAXUnsetScanNVoidFlowRoad"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Leaves the service
                    </COMMENT>
                </ROAD>                
            </SITE>
            <SITE  name="ValidateItemNumberForVoid" siteaction="MAXValidateItemNumberSite">
            	<!-- ROAD
                    name="ReduceQtySelected"
                    letter="ReduceQty"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD-->
                <ROAD
                    name="ReduceQtySelected"
                    letter="ReduceQty"
                    destination="CheckRelatedItemSearch"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                 <ROAD
                    name="ClearSelected"
                    letter="Clear"
                    destination="CheckRelatedItemSearch"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD
                    name="ReduceQtySelected"
                    letter="WeightedReduceQty"
                    destination="WeightedCheckRelatedItemSearch"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                 <ROAD
                    name="ClearSelected"
                    letter="WeightedClear"
                    destination="WeightedCheckRelatedItemSearch"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD
                    name="EnterSelected"
                    letter="Enter"
                    destination="ScanVoidItemScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD
                    name="InvalidRoad"
                    letter="Invalid"
                    destination="ScanVoidItemScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
             </SITE>
             <SITE  name="ItemListScreen" siteaction="MAXItemListScreenSite">
                   <ROAD
                    name="ItemAdded"
                    letter="Delete"
                    destination="MAXCheckRelatedItemDeletable"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
       			   <ROAD
                    name="ItemQuantity"
                    letter="Quantity"
                    laneaction="ModifyItemSelectedRoad"
                    destination="MAXModifyItemQuantityStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the quantity has been
                        entered.
                	</COMMENT>
                </ROAD>
                <ROAD
                    name="ItemUndo"
                    letter="Undo"
                    laneaction="MAXUnsetScanNVoidFlowRoad"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
                <ROAD
                    name="ItemNext"
                    letter="Next"
                    laneaction="MAXUnsetScanNVoidFlowRoad"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="ON">
                </ROAD>
            </SITE>
        
            <STATION
                name="MAXModifyItemQuantityStation"
                servicename="services.modifyitem.modifyitem"
                targettier="CURRENTTIER"
                launchshuttle="MAXModifyItemLaunchShuttle"
                returnshuttle="MAXModifyItemReturnShuttle">
                <COMMENT >
                    This station is the launch point for the Modify Item
                    service.
                </COMMENT>
                <ROAD
                    name="UndoModifyItem"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service
                        returns with an Undo letter.
                    </COMMENT>
                    <LIGHT  signal="IsNotScanAndVoidSignal"/>
                </ROAD>
                  
                  
                 <ROAD
						name="LoopModifyItemMenu"
						letter="Loop"
						destination="ShowSaleScreen"
						tape="ADVANCE"
						record="OFF"
						index="OFF">
				</ROAD>
                <ROAD
                    name="UndoModifyItem"
                    letter="Undo"
                    destination="ItemListScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service
                        returns with an Undo letter.
                    </COMMENT>
                    <LIGHT  signal="IsScanAndVoidSignal"/>
                </ROAD>
                <ROAD
                    name="ClearModifyItem"
                    letter="Clear"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        Use this road to respond to the Clear key and return
                        to the ShowSaleScreen site. returns with an Undo
                        letter.
                    </COMMENT>
                </ROAD>
              <ROAD
                    name="ModifyItemReturned"
                    letter="Done"
                    destination="CheckRelatedItemSearch"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service
                        returns normally.
                    </COMMENT>
                     <LIGHT  signal="IsScanAndVoidSignal"/>
                </ROAD>
                <ROAD
                    name="CancelModifyItem"
                    letter="Cancel"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service
                        returns with a Cancel letter.
                    </COMMENT>
                </ROAD>
                <ROAD
                    name="FailureModifyItem"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service
                        returns with a Failure letter.
                    </COMMENT>
                </ROAD>

                <ROAD
                    name="ModifyItemSendDone"
                    letter="Done"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service
                        returns with a Done letter from sendmain service.
                    </COMMENT>
                </ROAD>
				<ROAD
                    name="ModifyItemSendNext"
                    letter="Next"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service
                        returns with a Done letter from sendmain service.
                    </COMMENT>
                </ROAD>
                <ROAD
                    name="ModifyItemInvalid"
                    letter="Invalid"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
             </STATION>
               <SITE name="CheckRelatedItemSearch" siteaction="MAXCheckRelatedItemSearchSite">
                <ROAD
                    name="RelatedItemDeleteAllowed"
                    letter="Delete"
                    destination="MAXCheckRelatedItemDeletable"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                
                <ROAD
                    name="WeightedItemFound"
                    letter="Weighted"
                    destination="WeightedCheckRelatedItemSearch"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                
                 <ROAD
                    name="UndoScreen"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the quantity has been
                        entered.
                	</COMMENT>
                </ROAD>
                <ROAD
                    name="ItemQuantity"
                    letter="Quantity"
                    laneaction="ModifyItemSelectedRoad"
                    destination="MAXModifyItemQuantityStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the quantity has been
                        entered.
                	</COMMENT>
                </ROAD>
                <ROAD
                    name="NextScreen"
                    letter="Next"
                    laneaction="MAXUnsetScanNVoidFlowRoad"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the quantity has been
                        entered.
                	</COMMENT>
                </ROAD>
            </SITE>
            <SITE name="WeightedCheckRelatedItemSearch" siteaction="MAXCheckWeightedRelatedItemSearchSite">
                <ROAD
                    name="RelatedItemDeleteAllowed"
                    letter="Delete"
                    destination="MAXCheckRelatedItemDeletable"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                 <ROAD
                    name="UndoScreen"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the quantity has been
                        entered.
                	</COMMENT>
                </ROAD>
                <ROAD
                    name="ItemQuantity"
                    letter="Quantity"
                    laneaction="MAXModifyItemSelectedRoad"
                    destination="MAXModifyItemQuantityStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the quantity has been
                        entered.
                	</COMMENT>
                </ROAD>
                <ROAD
                    name="NextScreen"
                    letter="Next"
                    laneaction="MAXUnsetScanNVoidFlowRoad"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the quantity has been
                        entered.
                	</COMMENT>
                </ROAD>
            </SITE>
            <SITE name="ReadSingleBarCode" siteaction="MAXReadSingleBarCodeSite">
            	<ROAD
            		name="SingleBarCodeDataFoundRoad"
            		letter="Next"
            		destination="ProcessSingleBarCode"
            		tape="ADVANCE"
                    record="OFF"
                    index="OFF">
				</ROAD>
				<ROAD
            		name="SingleBarCodeDataNotFoundRoad"
            		letter="Ok"
            		destination="ShowSaleScreen"
            		tape="ADVANCE"
                    record="OFF"
                    index="OFF">
				</ROAD>
            </SITE>
            
            <SITE name="ProcessSingleBarCode" siteaction="MAXProcessSingleBarCodeSite">
                <AISLE
                    name="ItemNumberEntered"
                    letter="Next"
                    laneaction="MAXItemNumberEnteredAisle">
                </AISLE>
            	<ROAD
                    name="ValidItemNumberEntered"
                    letter="Valid"
                    destination="ItemLookupStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the item number
                        entered has been validated.
                    </COMMENT>
                </ROAD>
            	 <!-- ROAD
                    name="SingleBarCodeDataAddComplete"
                    letter="Valid"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT>
                        This road is traveled when the item number
                        entered has been validated.
                    </COMMENT>
                </ROAD-->
                <ROAD
            		name="UndoRoad"
            		letter="Undo"
            		destination="ShowSaleScreen"
            		tape="ADVANCE"
            		record="OFF"
            		index="OFF">
            	</ROAD>
            </SITE>
			<STATION name="ApplyInvoiceStation"
				servicename="modifytransaction.discount.modifytransactiondiscount"
				targettier="CURRENTTIER"
				launchshuttle="MAXModifyInvoiceTypeTransactionDiscountPercentLaunchShuttle"
				returnshuttle="MAXModifyInvoiceTypeTransactionDiscountPercentReturnShuttle">
				<COMMENT>
					This station will go to the Modify Transaction Discount
					service.
               </COMMENT>
				<ROAD name="NextDiscountPercent" letter="Next" destination="ShowSaleScreen"
					tape="ADVANCE" record="OFF" index="OFF">
					<COMMENT>
						This road is traversed when the Next Letter is received
						from the Discount service.
                   </COMMENT>
				</ROAD>
				
				<ROAD 
                    name="ValidationFailed"
                    letter="Failure"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                
				<ROAD name="TenderSelected" letter="TenderHome" destination="ValidateSaleStation"
					tape="ADVANCE" record="OFF" index="OFF">
					<COMMENT>
						This road is traveled when the user presses the Tender
						...ValidateSaleStation
						key.
                    </COMMENT>
				</ROAD>
				<ROAD name="CancelSelected" letter="Cancel" destination="ShowSaleScreen"
					tape="ADVANCE" record="OFF" index="OFF">
					<COMMENT>
						This road is traversed when the Next Letter is received
						from the Discount service.
                   </COMMENT>
				</ROAD>
			</STATION> 
            <STATION name="AdvanceSearchStation"
				servicename="sale.adv.search"
				targettier="CURRENTTIER"
				launchshuttle="MAXAdvSearchLaunchShuttle"
				returnshuttle="MAXAdvSearchReturnShuttle">
                
				<COMMENT>
					This station will go to the Modify Transaction Discount
					service.
               </COMMENT>
               <ROAD name="CancelSelected" letter="Cancel" destination="ShowSaleScreen"
					tape="ADVANCE" record="ON" index="ON">
					<COMMENT>
						This road is traversed when the Next Letter is received
						from the Discount service.
                   </COMMENT>
				</ROAD>
				<ROAD
                    name="SearchItemUndo"
                    letter="Undo"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service
                        returns with a Done letter from sendmain service.
                    </COMMENT>
                </ROAD>
		
                <ROAD
                    name="AdvanceInquiryNext"
                    letter="Next"
                    destination="ShowSaleScreen"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service
                        returns with a Done letter from sendmain service.
                    </COMMENT>
                </ROAD>
		
                <ROAD
                    name="SearchDone"
                    letter="Add"
                    destination="AddItem"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <COMMENT >
                        This road is traveled when the Modify Item service
                        returns with a Done letter from sendmain service.
                    </COMMENT>
                </ROAD>
			</STATION> 
			
			<STATION 
                name="ItemLookupStationForBestDeal" 
                servicename="iteminquiry.itemlookup.itemlookup"
				targettier="APPLICATIONTIER" 
				launchshuttle="MAXItemLookupLaunchShuttleForBestDeal"
				returnshuttle="MAXItemLookupReturnShuttleForBestDeal">
				<ROAD 
				   name="BestDealApplied" 
				   letter="Continue" 
				   destination="ApplyInvoiceStation"
				   tape="ADVANCE" 
				   record="OFF" 
				   index="ON">
					<COMMENT>
						This road is traveled after BestDeal has been applied as user has
						pressed Best Deal Applied Button, after best deal. invoice level
						rule ia applied
                    </COMMENT>
				</ROAD>
				<ROAD 
				   name="ItemNotFound" 
				   letter="Retry" 
				   destination="ShowSaleScreen"
				   tape="ADVANCE" 
				   record="OFF" 
				   index="ON">
				</ROAD>
				<ROAD 
				   name="UndoItemLookup" 
				   letter="Undo" 
				   destination="ShowSaleScreen"
				   tape="ADVANCE" 
				   record="OFF" 
				   index="OFF">
					<COMMENT>
						This road is traveled when the Reprint Receipt service
						returns with an Undo letter.
                    </COMMENT>
				</ROAD>
				<ROAD 
				   name="ItemGiftCard" 
				   letter="GiftCard" 
				   destination="AddItem"
				   tape="ADVANCE" 
				   record="OFF" 
				   index="OFF">
				</ROAD>
				<ROAD 
				   name="CancelItemLookup" 
				   letter="Cancel" 
				   destination="ShowSaleScreen"
				   tape="ADVANCE" 
				   record="OFF" 
				   index="OFF">
					<COMMENT>
						This road is traveled when the Reprint Receipt service
						returns with a Cancel letter.
                    </COMMENT>
				</ROAD>
				<ROAD 
				   name="InvalidItemNumberEntered" 
				   letter="Invalid"
				   destination="ShowSaleScreen" 
				   tape="ADVANCE" 
				   record="OFF" 
				   index="ON">
				</ROAD>
			</STATION>
		
			<SYSTEMSITE  name="Final" action="RETURN"/>
            <SYSTEMSITE  name="LastIndexed" action="BACKUP"/>
            <SYSTEMSITE  name="NamedIndex" action="BACKUP"/>
        </REGION>
    </MAP>
</SERVICE>
