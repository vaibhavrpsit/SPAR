<?xml version='1.0' ?>
<!--
/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
  Copyright (c) 2012-2013 MAXHyperMarket, Inc.    All Rights Reserved.
  Rev 1.0	1/May/2013	  	Tanmaya, Home Delivery Special Order
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
-->
<!DOCTYPE SERVICE SYSTEM "classpath://oracle/retail/stores/foundation/tour/dtd/tourguide.dtd">

<SERVICE 
    name="specialorderadd"
    package="oracle.retail.stores.pos.services.specialorder.add"
    tourcam="OFF">
    <COMMENT >
        This services creates a Special Order.
    </COMMENT>
    <CARGO  class="SpecialOrderCargo" package="oracle.retail.stores.pos.services.specialorder"/>
    <SERVICECODE >
        <LANEACTION  class="DisplayNoLinkCustomerAisle"/>
        <LANEACTION  class="DisplayNoSpecialOrderAisle"/>
        <LANEACTION  class="FailureConversionAisle" package="oracle.retail.stores.pos.services.common"/>
        <LANEACTION  class="SaveSpecialOrderCustomerAisle"/>
        <LETTER  name="Cancel"/>
        <LETTER  name="Continue"/>
        <LETTER  name="Customer"/>
        <LETTER  name="Failure"/>
        <LETTER  name="Link"/>
        <LETTER  name="Loop"/>
        <LETTER  name="Next"/>
        <LETTER  name="NoLink"/>
        <LETTER  name="Offline"/>
        <LETTER  name="Ok"/>
        <LETTER  name="Retry"/>
        <LETTER  name="Success"/>
        <LETTER  name="Undo"/>
        <SHUTTLE  class="LinkCustomerLaunchShuttle"/>
        <SHUTTLE  class="LinkCustomerReturnShuttle"/>
        <SIGNAL  class="IsOfflineSignal"/>
        <SIGNAL  class="IsOnlineSignal"/>
        <SITEACTION  class="MAXDisplaySpecialOrderCustomerSite" package="max.retail.stores.pos.services.specialorder.add"/>
    </SERVICECODE>
    <MAP >
        <REGION  region="SERVICE" startsite="SpecialOrderCustomerStation">
            <STATION 
                name="SpecialOrderCustomerStation"
                servicename="customer.main.customermain"
                targettier="APPLICATIONTIER"
                launchshuttle="LinkCustomerLaunchShuttle"
                returnshuttle="LinkCustomerReturnShuttle">
                <AISLE 
                    name="DisplayNoLinkCustomerOnline"
                    letter="Cancel"
                    laneaction="DisplayNoLinkCustomerAisle">
                    <LIGHT  signal="IsOnlineSignal"/>
                </AISLE>
                <AISLE 
                    name="DisplayNoSpecialOrderOffline"
                    letter="Cancel"
                    laneaction="DisplayNoSpecialOrderAisle">
                    <LIGHT  signal="IsOfflineSignal"/>
                </AISLE>
                <AISLE 
                    name="FailureLinkCustomerOffline"
                    letter="Offline"
                    laneaction="DisplayNoSpecialOrderAisle">
                </AISLE>
                <ROAD 
                    name="DisplayNoLinkCustomerRetry"
                    letter="Retry"
                    destination="SpecialOrderCustomerStation"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="ContinueLinkCustomerOnline"
                    letter="Continue"
                    destination="DisplaySpecialOrderCustomer"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                    <LIGHT  signal="IsOnlineSignal"/>
                </ROAD>
                <ROAD 
                    name="UndoFindSelected"
                    letter="Undo"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="FailureCustomerReturn"
                    letter="Failure"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
            </STATION>
            <SITE  name="DisplaySpecialOrderCustomer" siteaction="MAXDisplaySpecialOrderCustomerSite">
                <AISLE 
                    name="SaveSpecialOrderCustomer"
                    letter="Next"
                    laneaction="SaveSpecialOrderCustomerAisle">
                </AISLE>
                <ROAD 
                    name="RetrySpecialOrderCustomer"
                    letter="Retry"
                    destination="DisplaySpecialOrderCustomer"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="CancelSpecialOrderCustomer"
                    letter="Cancel"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="FailureSpecialOrderCustomer"
                    letter="Failure"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="SuccessSpecialOrderCustomer"
                    letter="Success"
                    destination="Final"
                    tape="ADVANCE"
                    record="OFF"
                    index="OFF">
                </ROAD>
                <ROAD 
                    name="UndoSpecialOrderCustomer"
                    letter="Undo"
                    destination="Final"
                    tape="ADVANCE"
                    record="ON"
                    index="ON">
                </ROAD>
            </SITE>
            <SYSTEMSITE  name="Final" action="RETURN"/>
            <SYSTEMSITE  name="LastIndexed" action="BACKUP"/>
            <SYSTEMSITE  name="NamedIndex" action="BACKUP"/>
        </REGION>
    </MAP>
</SERVICE>
